<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¤íŠ¸ë ˆìŠ¤ ì·¨ì•½ì„± ê²€ì‚¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #2d3748;
            line-height: 1.6;
        }

        .app-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* í—¤ë” ìŠ¤íƒ€ì¼ - ì–‡ê³  ê¸´ ì œëª© ë°•ìŠ¤ */
        .header {
            text-align: center;
            margin-bottom: 1rem;
            position: relative;
        }

        .title-box {
            background: rgba(255,255,255,0.15);
            border-radius: 0.5rem;
            padding: 0.75rem 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            margin-bottom: 0;
            display: inline-block;
            min-width: 400px;
            max-width: 90%;
            margin: 0 auto;
        }

        .title {
            font-size: 28px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .subtitle {
            font-size: 16px;
            color: rgba(255,255,255,0.9);
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            margin-top: 0.25rem;
        }

        .progress-container {
            text-align: center;
            margin-bottom: 2rem;
        }

        .progress {
            font-size: 14px;
            color: #718096;
            font-weight: 600;
            background: rgba(255,255,255,0.9);
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            display: inline-block;
            backdrop-filter: blur(10px);
            white-space: nowrap;
        }

        .filter-text {
            font-size: 12px;
            color: #a0aec0;
            font-style: italic;
            margin-left: 0.5rem;
        }

        /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card {
            background: rgba(255,255,255,0.95);
            border-radius: 1.5rem;
            padding: 2.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }

        .intro-card {
            text-align: center;
            margin-top: 4rem;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        /* ğŸ†• ì‚¬ìš©ì ì •ë³´ ì…ë ¥ ì¹´ë“œ - ê°€ë¡œë¡œ ê¸¸ê²Œ */
        .user-info-card {
            text-align: center;
            margin-top: 4rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            width: 100%;
        }

        .intro-title {
            font-size: 32px;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .intro-subtitle {
            font-size: 16px;
            color: #718096;
            margin-bottom: 2rem;
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* QRì½”ë“œ ìŠ¤íƒ€ì¼ - ëª¨ë°”ì¼ ëŒ€ì‘ */
        .qr-section {
            margin-top: 2rem;
            padding: 2rem;
            background: rgba(255,255,255,0.95);
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .qr-title {
            font-size: 20px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 1rem;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .qr-description {
            font-size: 14px;
            color: #718096;
            margin-bottom: 1.5rem;
            text-align: center;
            line-height: 1.6;
        }

        .qr-container {
            display: flex;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .qr-code {
            padding: 1rem;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            min-width: 200px;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .qr-code img {
            width: 200px;
            height: 200px;
            border-radius: 0.5rem;
        }

        .qr-code canvas {
            width: 200px !important;
            height: 200px !important;
            border-radius: 0.5rem;
        }

        .qr-fallback {
            display: none;
            text-align: center;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 1rem;
            border: 2px dashed #dee2e6;
        }

        .qr-fallback.show {
            display: block;
        }

        .qr-url {
            font-size: 16px;
            font-weight: 600;
            color: #667eea;
            word-break: break-all;
            margin-bottom: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 0.5rem;
            border: 1px solid #e2e8f0;
        }

        .copy-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }

        .copy-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }

        .qr-instructions {
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            padding: 1.5rem;
            border-radius: 1rem;
            border-left: 4px solid #667eea;
        }

        .qr-instructions h4 {
            color: #2d3748;
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 0.75rem;
        }

        .qr-instructions ol {
            color: #4a5568;
            font-size: 14px;
            padding-left: 1.5rem;
            line-height: 1.6;
        }

        .qr-instructions li {
            margin-bottom: 0.5rem;
        }

        /* ì§ˆë¬¸ ì¹´ë“œ */
        .question-card {
            margin-bottom: 1.5rem;
            min-height: 180px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .question-card.no-animation {
            animation: none !important;
        }

        .q-number {
            font-size: 18px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 1rem;
            text-align: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .q-text {
            font-size: 20px;
            line-height: 1.7;
            color: #2d3748;
            text-align: center;
            font-weight: 500;
            word-break: keep-all;
            white-space: normal;
        }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .primary-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1rem 2rem;
            border-radius: 1rem;
            border: none;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
            width: 100%;
            margin-top: 1.5rem;
            white-space: nowrap;
        }

        .primary-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
        }

        .primary-button:active {
            transform: translateY(0);
        }

        .primary-button:disabled {
            background: linear-gradient(135deg, #cbd5e0, #a0aec0);
            color: #e2e8f0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .answer-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .answer-button {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            padding: 1.25rem 1.5rem;
            border-radius: 1rem;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 16px rgba(72, 187, 120, 0.3);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
        }

        .answer-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .answer-button:hover::before {
            left: 100%;
        }

        .answer-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(72, 187, 120, 0.4);
        }

        .answer-button.selected {
            background: linear-gradient(135deg, #2f855a, #276749);
            transform: scale(1.02);
            box-shadow: 0 12px 24px rgba(47, 133, 90, 0.5);
        }

        /* ë„¤ë¹„ê²Œì´ì…˜ - ì§ˆë¬¸ í˜ì´ì§€ìš© (ë” í° í¬ê¸°) */
        .footer-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
            padding-top: 1rem;
            gap: 0.8rem;
        }

        .nav-pill {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1rem 1.4rem;
            border-radius: 2rem;
            border: none;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 100px;
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            flex: 1;
            max-width: 140px;
        }

        .nav-pill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .nav-pill:hover::before {
            left: 100%;
        }

        .nav-pill:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
        }

        .nav-pill:disabled {
            background: linear-gradient(135deg, #cbd5e0, #a0aec0);
            color: #e2e8f0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .nav-pill.secondary {
            background: linear-gradient(135deg, #e2e8f0, #cbd5e0);
            color: #4a5568;
        }

        .nav-pill.dev-button {
            background: linear-gradient(135deg, #6b7280, #9ca3af);
        }

        .center-buttons {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.8rem;
            flex: 1;
            max-width: 140px;
        }

        /* ë‹µë³€ í˜„í™© */
        .review-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .section {
            background: rgba(255,255,255,0.95);
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 1.5rem;
            white-space: nowrap;
        }

        .question-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 1rem;
        }

        .answered-badge, .unanswered-badge {
            border-radius: 1rem;
            padding: 0.75rem;
            text-align: center;
            cursor: pointer;
            border: 2px solid;
            transition: all 0.3s ease;
            font-weight: 600;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .answered-badge:hover, .unanswered-badge:hover {
            transform: scale(1.1);
        }

        .answered-badge {
            background: linear-gradient(135deg, #c6f6d5, #9ae6b4);
            border-color: #48bb78;
            color: #22543d;
        }

        .unanswered-badge {
            background: linear-gradient(135deg, #fed7d7, #feb2b2);
            border-color: #f56565;
            color: #742a2a;
        }

        .q-badge-num {
            font-size: 14px;
            font-weight: 700;
        }

        /* ğŸ†• ìƒˆë¡œìš´ ê²°ê³¼ í˜ì´ì§€ ìŠ¤íƒ€ì¼ - ì˜ì—­ë³„ ë¶„ë¦¬ */
        .area-section {
            margin-bottom: 3rem;
        }

        .area-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .area-title-box {
            background: rgba(255,255,255,0.15);
            border-radius: 0.5rem;
            padding: 0.75rem 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            margin-bottom: 0.5rem;
            display: inline-block;
            min-width: 300px;
            max-width: 90%;
        }

        .area-title {
            font-size: 24px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            white-space: nowrap;
        }

        .area-subtitle {
            font-size: 16px;
            color: rgba(255,255,255,0.9);
            font-weight: 500;
            white-space: nowrap;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .type-card {
            background: rgba(255,255,255,0.95);
            border-radius: 1.5rem;
            padding: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .type-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }

        .type-header {
            text-align: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e2e8f0;
        }

        .type-label {
            font-size: 18px;
            font-weight: 800;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .type-name {
            font-size: 16px;
            font-weight: 600;
            color: #4a5568;
        }

        .questions-section {
            margin-bottom: 1.5rem;
        }

        .question-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid #f1f5f9;
        }

        .question-item:last-child {
            border-bottom: none;
        }

        .question-num {
            font-size: 14px;
            font-weight: 600;
            color: #64748b;
        }

        .question-score {
            font-size: 14px;
            font-weight: 700;
            color: #2d3748;
            background: #f8fafc;
            padding: 0.25rem 0.5rem;
            border-radius: 0.5rem;
            min-width: 30px;
            text-align: center;
        }

        .score-section {
            text-align: center;
            padding-top: 1rem;
            border-top: 2px solid #e2e8f0;
        }

        .traffic-light {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .traffic-icon {
            font-size: 20px;
        }

        .traffic-text {
            font-size: 14px;
            font-weight: 700;
        }

        .total-score {
            font-size: 24px;
            font-weight: 800;
        }

        /* ì‹¤ì²œ ì „ëµ */
        .plan-card {
            background: rgba(255,255,255,0.95);
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            margin-bottom: 1rem;
        }

        .plan-input {
            width: 100%;
            min-height: 300px;
            font-size: 16px;
            color: #2d3748;
            border: 2px solid #e2e8f0;
            border-radius: 1rem;
            padding: 1.5rem;
            resize: vertical;
            font-family: inherit;
            line-height: 1.7;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.8);
        }

        .plan-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: white;
        }

        .plan-input::placeholder {
            color: #a0aec0;
            font-weight: 500;
        }

        /* ì´ë©”ì¼ ì…ë ¥ ìŠ¤íƒ€ì¼ */
        .email-card {
            background: rgba(255,255,255,0.95);
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            margin-bottom: 6rem;
        }

        .email-input {
            width: 100%;
            padding: 1rem 1.5rem;
            font-size: 16px;
            color: #2d3748;
            border: 2px solid #e2e8f0;
            border-radius: 1rem;
            font-family: inherit;
            line-height: 1.7;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.8);
            margin-bottom: 1.5rem;
        }

        .email-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: white;
        }

        .email-input::placeholder {
            color: #a0aec0;
            font-weight: 500;
        }

        /* ğŸ†• ì‚¬ìš©ì ì •ë³´ ì…ë ¥ í¼ ìŠ¤íƒ€ì¼ - ê°€ë¡œë¡œ ê¸¸ê³  ì–‡ê²Œ */
        .user-info-form {
            text-align: left;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-size: 16px;
            font-weight: 700;
            color: #4a5568;
            margin-bottom: 0.5rem;
        }

        .form-input {
            width: 100%;
            padding: 0.75rem 1rem;
            font-size: 16px;
            color: #2d3748;
            border: 2px solid #e2e8f0;
            border-radius: 0.5rem;
            font-family: inherit;
            line-height: 1.5;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.8);
            height: 48px;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: white;
        }

        .form-input::placeholder {
            color: #a0aec0;
            font-weight: 500;
        }

        /* ğŸ†• ë™ì˜ ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ - í…Œë‘ë¦¬ ì¶”ê°€ */
        .consent-group {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: rgba(255,255,255,0.8);
            border: 2px solid #e2e8f0;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }

        .consent-group:focus-within {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: white;
        }

        .consent-text {
            font-size: 14px;
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 0.75rem;
        }

        .consent-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .consent-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #667eea;
        }

        .consent-checkbox label {
            font-size: 14px;
            color: #4a5568;
            font-weight: 600;
            cursor: pointer;
        }

        /* ğŸ†• ë§ˆë¬´ë¦¬ í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
        .completion-card {
            background: rgba(255,255,255,0.95);
            padding: 3rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            text-align: center;
            margin-bottom: 6rem;
        }

        .completion-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            display: block;
        }

        .completion-title {
            font-size: 28px;
            font-weight: 800;
            color: #38a169;
            margin-bottom: 1rem;
        }

        .completion-message {
            font-size: 18px;
            color: #4a5568;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .completion-subtitle {
            font-size: 16px;
            color: #718096;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        /* ì´ë©”ì¼ ì„±ê³µ í™”ë©´ ìŠ¤íƒ€ì¼ */
        .success-card {
            background: rgba(255,255,255,0.95);
            padding: 3rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            text-align: center;
            margin-bottom: 6rem;
        }

        .success-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            display: block;
        }

        .success-title {
            font-size: 24px;
            font-weight: 800;
            color: #38a169;
            margin-bottom: 1rem;
        }

        .success-message {
            font-size: 16px;
            color: #4a5568;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        /* í•˜ë‹¨ ë°” - ì›ë˜ í¬ê¸°ë¡œ ë³µì› */
        .footer-bar {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            right: 2rem;
            max-width: 1160px;
            margin: 0 auto;
        }

        .footer-bar .nav-pill {
            width: 100%;
            padding: 1rem 2rem;
            font-size: 18px;
            min-width: auto;
            max-width: none;
            flex: none;
        }

        /* í•´ì„ ê°€ì´ë“œ */
        .interpretation-guide {
            margin-top: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            background: rgba(255,255,255,0.9);
            padding: 2rem;
            border-radius: 1rem;
            backdrop-filter: blur(10px);
        }

        .interpretation-title {
            color: #2d3748;
            font-weight: 700;
            font-size: 18px;
        }

        .traffic-guide {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .traffic-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .traffic-item .traffic-icon {
            font-size: 18px;
        }

        .traffic-item .traffic-text {
            font-size: 16px;
            color: #4a5568;
            font-weight: 500;
        }

        .interpretation-text {
            color: #4a5568;
            font-size: 16px;
            font-weight: 500;
        }

        .score-red {
            color: #e53e3e;
            font-weight: 800;
        }

        .score-green {
            color: #38a169;
            font-weight: 800;
        }

        /* ğŸ†• ë‹µë³€ í˜„í™© í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ìŠ¤íƒ€ì¼ - ì´ì „/ë‹¤ìŒ ë²„íŠ¼ì²˜ëŸ¼ */
        .review-footer-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
            gap: 0.8rem;
        }

        .review-nav-pill {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1rem 1.4rem;
            border-radius: 2rem;
            border: none;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 100px;
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            flex: 1;
            max-width: 140px;
        }

        .review-nav-pill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .review-nav-pill:hover::before {
            left: 100%;
        }

        .review-nav-pill:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
        }

        .review-nav-pill:disabled {
            background: linear-gradient(135deg, #cbd5e0, #a0aec0);
            color: #e2e8f0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .review-nav-pill.results {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            box-shadow: 0 6px 12px rgba(240, 147, 251, 0.3);
        }

        .review-nav-pill.results:hover {
            box-shadow: 0 8px 16px rgba(240, 147, 251, 0.4);
        }

        /* ğŸ†• ê²°ê³¼ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ìŠ¤íƒ€ì¼ - ì§ˆë¬¸ í˜ì´ì§€ì™€ ê°™ì€ í¬ê¸° */
        .results-footer-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1.33rem;
            gap: 1rem;
        }

        .results-nav-pill {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1rem 1.4rem;
            border-radius: 2rem;
            border: none;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 100px;
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            flex: 1;
            max-width: 140px;
        }

        .results-nav-pill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .results-nav-pill:hover::before {
            left: 100%;
        }

        .results-nav-pill:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
        }

        .results-nav-pill:disabled {
            background: linear-gradient(135deg, #cbd5e0, #a0aec0);
            color: #e2e8f0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* ğŸ†• ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì‹¤ì²œ ì „ëµ í˜ì´ì§€ ì¶”ê°€ ì •ë³´ ìŠ¤íƒ€ì¼ */
        .additional-info {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(102, 126, 234, 0.1);
        }

        .additional-info h4 {
            color: #2d3748;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .additional-info p {
            color: #4a5568;
            font-size: 0.95rem;
            margin-bottom: 0.8rem;
            line-height: 1.6;
        }

        .additional-info .contact-info {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
            border-left: 3px solid #667eea;
        }

        .additional-info .contact-info strong {
            color: #2d3748;
            font-weight: 600;
        }

        .additional-info .email {
            color: #667eea;
            font-weight: 600;
            text-decoration: none;
        }

        .additional-info .email:hover {
            text-decoration: underline;
        }

        /* ğŸ†• ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì‹¤ì²œ ì „ëµ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ìŠ¤íƒ€ì¼ - ê²°ê³¼ í˜ì´ì§€ì™€ ê°™ì€ í¬ê¸° */
        .plan-footer-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 0.33rem;
            gap: 1rem;
        }

        .plan-nav-pill {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1rem 1.4rem;
            border-radius: 2rem;
            border: none;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 100px;
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            flex: 1;
            max-width: 140px;
        }

        .plan-nav-pill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .plan-nav-pill:hover::before {
            left: 100%;
        }

        .plan-nav-pill:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
        }

        .plan-nav-pill:disabled {
            background: linear-gradient(135deg, #cbd5e0, #a0aec0);
            color: #e2e8f0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ - ì§ˆë¬¸ í˜ì´ì§€ ë²„íŠ¼ ë” í¬ê²Œ */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .card {
                padding: 1.5rem;
            }
            
            .question-card {
                min-height: 150px;
            }
            
            /* ì§ˆë¬¸ í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ë” í¬ê²Œ */
            .footer-nav .nav-pill {
                font-size: 14px !important;
                padding: 0.8rem 1rem !important;
                min-width: 80px !important;
                max-width: 110px !important;
            }
            
            .footer-nav {
                gap: 0.5rem !important;
            }
            
            .footer-nav .center-buttons {
                gap: 0.5rem !important;
                max-width: 110px !important;
            }
            
            .question-grid {
                grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
                gap: 0.75rem;
            }
            
            .answered-badge, .unanswered-badge {
                min-height: 45px;
                padding: 0.5rem;
            }

            .qr-section {
                padding: 1.5rem;
            }

            .qr-code img, .qr-code canvas {
                width: 150px;
                height: 150px;
            }

            /* ëª¨ë°”ì¼ì—ì„œë„ ì œëª© í¬ê¸° ìœ ì§€ */
            .title {
                font-size: 24px !important;
            }
            
            .intro-title {
                font-size: 28px !important;
            }

            .title-box {
                min-width: 300px;
                padding: 0.5rem 1.5rem;
            }

            /* ê²°ê³¼ í˜ì´ì§€ íƒœë¸”ë¦¿ ìµœì í™” - 4x1 ìœ ì§€í•˜ë˜ í¬ê¸° ì¶•ì†Œ */
            .results-grid {
                grid-template-columns: repeat(4, 1fr) !important;
                gap: 0.5rem !important;
            }

            .type-card {
                padding: 0.75rem !important;
            }

            .type-label {
                font-size: 14px !important;
            }

            .type-name {
                font-size: 12px !important;
            }

            .question-item {
                padding: 0.25rem 0 !important;
            }

            .question-num {
                font-size: 12px !important;
            }

            .question-score {
                font-size: 12px !important;
                padding: 0.125rem 0.25rem !important;
                min-width: 25px !important;
            }

            .traffic-icon {
                font-size: 16px !important;
            }

            .traffic-text {
                font-size: 12px !important;
            }

            .total-score {
                font-size: 18px !important;
            }

            .area-title-box {
                min-width: 250px;
                padding: 0.5rem 1.5rem;
            }

            .area-title {
                font-size: 20px !important;
            }

            .traffic-guide {
                gap: 0.5rem;
            }

            /* ë‹µë³€ í˜„í™© í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ëª¨ë°”ì¼ */
            .review-footer-nav .review-nav-pill {
                font-size: 14px !important;
                padding: 0.8rem 1rem !important;
                min-width: 80px !important;
                max-width: 110px !important;
            }
            
            .review-footer-nav {
                gap: 0.5rem !important;
            }

            /* ê²°ê³¼ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ëª¨ë°”ì¼ - ì§ˆë¬¸ í˜ì´ì§€ì™€ ê°™ì€ í¬ê¸° */
            .results-footer-nav .results-nav-pill {
                font-size: 14px !important;
                padding: 0.8rem 1rem !important;
                min-width: 80px !important;
                max-width: 110px !important;
            }
            
            .results-footer-nav {
                gap: 0.5rem !important;
                margin-top: 0.67rem !important;
            }

            /* ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì‹¤ì²œ ì „ëµ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ëª¨ë°”ì¼ - ê²°ê³¼ í˜ì´ì§€ì™€ ê°™ì€ í¬ê¸° */
            .plan-footer-nav .plan-nav-pill {
                font-size: 14px !important;
                padding: 0.8rem 1rem !important;
                min-width: 80px !important;
                max-width: 110px !important;
            }
            
            .plan-footer-nav {
                gap: 0.5rem !important;
                margin-top: 0.17rem !important;
            }

            /* ë§ˆë¬´ë¦¬ í˜ì´ì§€ ëª¨ë°”ì¼ */
            .completion-card {
                padding: 2rem;
            }

            .completion-title {
                font-size: 24px !important;
            }

            .completion-message {
                font-size: 16px !important;
            }

            /* ë‹µë³€ í˜„í™© ê°„ê²© ì¡°ì • */
            .review-container {
                gap: 0.5rem !important;
                margin-bottom: 0.5rem !important;
            }

            .section {
                padding: 1.5rem !important;
            }

            .section-title {
                font-size: 16px !important;
                margin-bottom: 1rem !important;
            }

            .q-badge-num {
                font-size: 12px !important;
            }

            /* ì¶”ê°€ ì •ë³´ ëª¨ë°”ì¼ */
            .additional-info {
                padding: 1.2rem;
            }

            .additional-info h4 {
                font-size: 1rem;
            }

            .additional-info p {
                font-size: 0.9rem;
            }

            /* ì‹¤ì²œ ì „ëµ ì¹´ë“œ ëª¨ë°”ì¼ */
            .plan-card {
                margin-bottom: 0.5rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0.75rem;
            }
            
            .card {
                padding: 1rem;
            }
            
            /* ë” ì‘ì€ í™”ë©´ì—ì„œ ì§ˆë¬¸ í˜ì´ì§€ ë²„íŠ¼ ë” í¬ê²Œ */
            .footer-nav .nav-pill {
                font-size: 13px !important;
                padding: 0.7rem 0.8rem !important;
                min-width: 70px !important;
                max-width: 95px !important;
            }
            
            .footer-nav {
                gap: 0.4rem !important;
            }
            
            .footer-nav .center-buttons {
                gap: 0.4rem !important;
                max-width: 95px !important;
            }
            
            .question-grid {
                grid-template-columns: repeat(auto-fill, minmax(45px, 1fr));
                gap: 0.5rem;
            }
            
            .answered-badge, .unanswered-badge {
                min-height: 40px;
                padding: 0.375rem;
            }

            .qr-section {
                padding: 1rem;
            }

            .qr-code img, .qr-code canvas {
                width: 120px;
                height: 120px;
            }

            /* ì‘ì€ í™”ë©´ì—ì„œë„ ì œëª© í¬ê¸° ìœ ì§€ */
            .title {
                font-size: 20px !important;
            }
            
            .intro-title {
                font-size: 24px !important;
            }

            .title-box {
                min-width: 250px;
                padding: 0.5rem 1rem;
            }

            /* ê²°ê³¼ í˜ì´ì§€ ëª¨ë°”ì¼ ìµœì í™” - 4x1 ìœ ì§€í•˜ë˜ ë” ì‘ê²Œ */
            .results-grid {
                grid-template-columns: repeat(4, 1fr) !important;
                gap: 0.25rem !important;
            }

            .type-card {
                padding: 0.5rem !important;
            }

            .type-header {
                margin-bottom: 0.75rem !important;
                padding-bottom: 0.5rem !important;
            }

            .type-label {
                font-size: 12px !important;
            }

            .type-name {
                font-size: 10px !important;
            }

            .questions-section {
                margin-bottom: 0.75rem !important;
            }

            .question-item {
                padding: 0.125rem 0 !important;
            }

            .question-num {
                font-size: 10px !important;
            }

            .question-score {
                font-size: 10px !important;
                padding: 0.125rem 0.25rem !important;
                min-width: 20px !important;
            }

            .score-section {
                padding-top: 0.5rem !important;
            }

            .traffic-light {
                margin-bottom: 0.25rem !important;
            }

            .traffic-icon {
                font-size: 14px !important;
            }

            .traffic-text {
                font-size: 10px !important;
            }

            .total-score {
                font-size: 16px !important;
            }

            .area-title-box {
                min-width: 200px;
                padding: 0.5rem 1rem;
            }

            .area-title {
                font-size: 18px !important;
            }

            .traffic-item .traffic-text {
                font-size: 14px !important;
            }

            /* ë‹µë³€ í˜„í™© í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ì‘ì€ í™”ë©´ */
            .review-footer-nav .review-nav-pill {
                font-size: 13px !important;
                padding: 0.7rem 0.8rem !important;
                min-width: 70px !important;
                max-width: 95px !important;
            }
            
            .review-footer-nav {
                gap: 0.4rem !important;
            }

            /* ê²°ê³¼ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ì‘ì€ í™”ë©´ - ì§ˆë¬¸ í˜ì´ì§€ì™€ ê°™ì€ í¬ê¸° */
            .results-footer-nav .results-nav-pill {
                font-size: 13px !important;
                padding: 0.7rem 0.8rem !important;
                min-width: 70px !important;
                max-width: 95px !important;
            }
            
            .results-footer-nav {
                gap: 0.4rem !important;
                margin-top: 0.67rem !important;
            }

            /* ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì‹¤ì²œ ì „ëµ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ì‘ì€ í™”ë©´ - ê²°ê³¼ í˜ì´ì§€ì™€ ê°™ì€ í¬ê¸° */
            .plan-footer-nav .plan-nav-pill {
                font-size: 13px !important;
                padding: 0.7rem 0.8rem !important;
                min-width: 70px !important;
                max-width: 95px !important;
            }
            
            .plan-footer-nav {
                gap: 0.4rem !important;
                margin-top: 0.17rem !important;
            }

            /* ë§ˆë¬´ë¦¬ í˜ì´ì§€ ì‘ì€ í™”ë©´ */
            .completion-card {
                padding: 1.5rem;
            }

            .completion-title {
                font-size: 20px !important;
            }

            .completion-message {
                font-size: 14px !important;
            }

            /* ë‹µë³€ í˜„í™© ê°„ê²© ì¡°ì • - ë” ì‘ê²Œ */
            .review-container {
                gap: 0.25rem !important;
                margin-bottom: 0.25rem !important;
            }

            .section {
                padding: 1rem !important;
            }

            .section-title {
                font-size: 14px !important;
                margin-bottom: 0.75rem !important;
            }

            .q-badge-num {
                font-size: 10px !important;
            }

            .review-footer-nav {
                margin-top: 0.5rem !important;
            }

            /* ì¶”ê°€ ì •ë³´ ì‘ì€ í™”ë©´ */
            .additional-info {
                padding: 1rem;
            }

            .additional-info h4 {
                font-size: 0.95rem;
            }

            .additional-info p {
                font-size: 0.85rem;
            }

            /* ì‹¤ì²œ ì „ëµ ì¹´ë“œ ì‘ì€ í™”ë©´ */
            .plan-card {
                margin-bottom: 0.25rem;
            }
        }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            animation: fadeIn 0.6s ease-out;
        }

        /* ì¶œì²˜ ìŠ¤íƒ€ì¼ */
        .citation {
            text-align: center;
            margin-top: 2rem;
            padding: 1rem;
            color: rgba(255,255,255,0.7);
            font-size: 12px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div id="app"></div>
    </div>

    <!-- QRì½”ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>

    <script>
        // ì§ˆë¬¸ ë°ì´í„°
        const questions = [
            { id: 1, text: "ì ì ˆí•œ ìŒì‹ì„ ì ë‹¹ëŸ‰ ë¨¹ëŠ”ë‹¤.", type: "A" },
            { id: 2, text: "ì ì‹¬ì‹ì‚¬ ë•Œ ìˆ ì„ ë§ˆì‹œì§€ ì•ŠëŠ”ë‹¤.", type: "B" },
            { id: 3, text: "ì¼ì£¼ì¼ì— ì ì–´ë„ 3ë²ˆ ì •ë„ëŠ” ë•€ì´ ë‚  ì •ë„ë¡œ ìš´ë™ì„ í•œë‹¤.", type: "C" },
            { id: 4, text: "ì¹œêµ¬ë‚˜ ì¹œì²™ê³¼ ì •ê¸°ì  ëª¨ì„ì´ë‚˜ ë™ì°½ ëª¨ì„ì„ ê°–ëŠ”ë‹¤.", type: "D" },
            { id: 5, text: "ë‚˜ì˜ ì„±ìƒí™œì— ë§Œì¡±í•œë‹¤.<br><span style='color: #000000; font-weight: 400; font-size: 14px; text-align: center; display: block;'>(ë§Œ 19ì„¸ ì´ìƒë§Œ ë‹µë³€í•  ê²ƒ)</span>", type: "E" },
            { id: 6, text: "ì ì–´ë„ í•œ ê°€ì§€ ì´ìƒì˜ ì—¬ê°€í™œë™ì´ë‚˜ ê·œì¹™ì ìœ¼ë¡œ ì¦ê¸°ëŠ” í¥ë¯¸ê±°ë¦¬ê°€ ìˆë‹¤.", type: "F" },
            { id: 7, text: "ì£¼ë§ì—ëŠ” ì¼í•˜ì§€ ì•Šê³  ì‰¬ê±°ë‚˜ ì—¬ê°€í™œë™ì„ í•œë‹¤.", type: "G" },
            { id: 8, text: "ê·œì¹™ì ìœ¼ë¡œ ê¸°ë„ë¥¼ í•˜ê±°ë‚˜ ëª…ìƒì„ í•œë‹¤.", type: "H" },
            { id: 9, text: "í•˜ë£¨ì— ì»¤í”¼, ë˜ëŠ” ì½œë¼ ë“±ì„ 5ì” ì´ìƒ ë§ˆì‹œì§€ ì•ŠëŠ”ë‹¤.", type: "A" },
            { id: 10, text: "ìŒë£Œìˆ˜ë¥¼ ìˆ  ë§ˆì‹œê¸°ë³´ë‹¤ ë” ì¢‹ì•„í•œë‹¤.", type: "B" },
            { id: 11, text: "ì¼ìƒìƒí™œ ê°€ìš´ë° ì ë‹¹í•œ ì‹ ì²´ì—ë„ˆì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¼ì„ í•œë‹¤.", type: "C" },
            { id: 12, text: "ê·œì¹™ì ìœ¼ë¡œ ì• ì •ì„ ì£¼ê³ ë°›ëŠ”ë‹¤.", type: "D" },
            { id: 13, text: "ê·œì¹™ì ìœ¼ë¡œ ì„±ì  ë§Œì¡±ê°ì„ ì·¨í•œë‹¤.<br><span style='color: #000000; font-weight: 400; font-size: 14px; text-align: center; display: block;'>(ë§Œ 19ì„¸ ì´ìƒë§Œ ë‹µë³€í•  ê²ƒ)</span>", type: "E" },
            { id: 14, text: "ë§¤ì¼ íœ´ì‹ì‹œê°„ì„ ê°–ëŠ”ë‹¤.", type: "F" },
            { id: 15, text: "í•  ìˆ˜ ìˆëŠ” ì¼(í˜„ì‹¤ì ì¸ ì¼)ë§Œ í•˜ë©° ê³¼ë„í•˜ê²Œ ì¼í•˜ì§€ ì•ŠëŠ”ë‹¤.", type: "G" },
            { id: 16, text: "ë‚˜ì˜ ë¬¸ì œë¥¼ ë‚´ ìŠ¤ìŠ¤ë¡œ í•´ê²°í•œë‹¤.", type: "H" },
            { id: 17, text: "ë‚˜ì˜ í‚¤ì— ì•Œë§ì€ ì ì ˆí•œ ì²´ì¤‘ì„ ìœ ì§€í•œë‹¤.", type: "A" },
            { id: 18, text: "ë‚˜ í˜¼ìì„œëŠ” ìˆ ì„ ë§ˆì‹œì§€ ì•ŠëŠ”ë‹¤.", type: "B" },
            { id: 19, text: "ì—˜ë¦¬ë² ì´í„°ë‚˜ ìŠ¹ê°•ê¸°ë¥¼ ì´ìš©í•˜ê¸°ë³´ë‹¤ëŠ” ê³„ë‹¨ì„ ê±¸ì–´ ì˜¬ë¼ê°„ë‹¤.", type: "C" },
            { id: 20, text: "ë¶€ì •ì  ê°ì •ì„ ìŒ“ì•„ë‘ê¸°ë³´ë‹¤ëŠ” ì˜ í‘œí˜„í•œë‹¤.", type: "D" },
            { id: 21, text: "ì„±ì ìœ¼ë¡œ ë¬´ë ¥í•˜ê±°ë‚˜ ëƒ‰ë‹´í•˜ì§€ ì•Šë‹¤.<br><span style='color: #000000; font-weight: 400; font-size: 14px; text-align: center; display: block;'>(ë§Œ 19ì„¸ ì´ìƒë§Œ ë‹µë³€í•  ê²ƒ)</span>", type: "E" },
            { id: 22, text: "ì ì–´ë„ ì¼ì£¼ì¼ì— ë‚˜í˜ ì •ë„ëŠ” 7~8ì‹œê°„ ì ì„ ì”ë‹¤.", type: "F" },
            { id: 23, text: "ê²°ì½” ì¼(ì‚¬ì—…)ì´ ë‚˜ì˜ ìƒí™œì„ ì§€ë°°í•˜ë„ë¡ ë‘ì§€ ì•ŠëŠ”ë‹¤.", type: "G" },
            { id: 24, text: "ë‚˜ ìì‹ ì„ ë¯¿ëŠ”ë‹¤.", type: "H" },
            { id: 25, text: "ìŒì‹ì— ì†Œê¸ˆì„ ê³¼í•˜ê²Œ ë„£ì§€ ì•ŠëŠ”ë‹¤.", type: "A" },
            { id: 26, text: "í‡´ê·¼ í›„ ì§‘ì—ì„œ ìˆ ì„ ì˜ ë§ˆì‹œì§€ ì•ŠëŠ”ë‹¤.", type: "B" },
            { id: 27, text: "ê·œì¹™ì ì¸ ìš´ë™ í”„ë¡œê·¸ë¨ì„ ì‹¤ì²œí•œë‹¤.", type: "C" },
            { id: 28, text: "ë§¤ìš° ì ˆì¹œí•œ ì¹œêµ¬ê°€ ìˆì–´ ê·¸ë“¤ê³¼ ì€ë°€í•œ ë¬¸ì œë¥¼ ë…¼ì˜í•  ìˆ˜ ìˆë‹¤.", type: "D" },
            { id: 29, text: "ì‚¬ë‘ì´ ì¶©ë§Œí•œ ì„±ê´€ê³„ë¥¼ ê°–ëŠ”ë‹¤.<br><span style='color: #000000; font-weight: 400; font-size: 14px; text-align: center; display: block;'>(ë§Œ 19ì„¸ ì´ìƒë§Œ ë‹µë³€í•  ê²ƒ)</span>", type: "E" },
            { id: 30, text: "ì¼ì£¼ì¼ì— ì ì–´ë„ í•œë²ˆì€ ì¬ë¯¸ìˆëŠ” ì¼ì„ í•œë‹¤.", type: "F" },
            { id: 31, text: "ì‚¬íšŒìƒí™œì—ì„œ ë‚˜ ìì‹ ì˜ ì‚¬ì—…ì— ëŒ€í•´ ë§í•˜ëŠ” ê²ƒì„ í”¼í•œë‹¤.", type: "G" },
            { id: 32, text: "ë‚´ ë§ˆìŒì´ í‰ì•ˆí•˜ë‹¤ëŠ” ëŠë‚Œì„ ê°–ëŠ”ë‹¤.", type: "H" },
            { id: 33, text: "ë§¤ì¼ ê·œì¹™ì ìœ¼ë¡œ ì‹ì‚¬ë¥¼ í•˜ê³  êµ°ê²ƒì§ˆì€ í•˜ì§€ ì•ŠëŠ”ë‹¤.", type: "A" },
            { id: 34, text: "ì ë‹¹í•˜ê²Œ ìˆ ì„ ë§ˆì‹œê±°ë‚˜(í•˜ë£¨ 2ì” ë¯¸ë§Œ), ì „í˜€ ë§ˆì‹œì§€ ì•ŠëŠ”ë‹¤.", type: "B" },
            { id: 35, text: "ë§¤ì£¼ í•œê°€ì§€ ì´ìƒì˜ ìš´ë™ì„ í•œë‹¤.", type: "C" },
            { id: 36, text: "ì§ì¥ì—ì„œ ë‚˜ë¥¼ ì •ì„œì ìœ¼ë¡œ ì§€ì§€í•´ ì£¼ëŠ” ë™ë£Œê°€ ìˆë‹¤.", type: "D" },
            { id: 37, text: "ì•ˆì •ëœ ì„±ê´€ê³„ë¥¼ ìœ ì§€í•˜ê¸¸ ì¢‹ì•„í•œë‹¤.<br><span style='color: #000000; font-weight: 400; font-size: 14px; text-align: center; display: block;'>(ë§Œ 19ì„¸ ì´ìƒë§Œ ë‹µë³€í•  ê²ƒ)</span>", type: "E" },
            { id: 38, text: "ë‚˜ ìŠ¤ìŠ¤ë¡œ ì¦ê±°ìš´ ì¼ê±°ë¦¬ë¥¼ ë§ˆë ¨í•  ìˆ˜ ìˆë‹¤.", type: "F" },
            { id: 39, text: "ì•¼ê°„ì—ëŠ” ì¼í•˜ì§€ ì•ŠëŠ”ë‹¤.", type: "G" },
            { id: 40, text: "ì–´ë–¤ ì¼ì´ë‚˜ ì–´ë–¤ ë‹¨ì²´ì— ëŒ€í•´ ë†’ì€ ì†Œì†ê°ì„ ê°–ëŠ”ë‹¤.", type: "H" },
            { id: 41, text: "ê·œì¹™ì ìœ¼ë¡œ ë¬¼ì„ ë§ˆì‹ ë‹¤.", type: "A" },
            { id: 42, text: "í•˜ë£¨ 3ê°œí”¼ ì´í•˜ì˜ ë‹´ë°°ë¥¼ í”¼ìš°ê±°ë‚˜ ì•„ì˜ˆ í”¼ìš°ì§€ ì•ŠëŠ”ë‹¤.", type: "B" },
            { id: 43, text: "ë§¤ì¼ ì‚°ì±…í•˜ê±°ë‚˜ ê¸¸ì„ ê±·ëŠ”ë‹¤.", type: "C" },
            { id: 44, text: "ì¹œêµ¬ë¡œë¶€í„° ë„ì›€ì„ êµ¬í•˜ê±°ë‚˜ í•„ìš”í•˜ë©´ ì „ë¬¸ì  ì¶©ê³ ë¥¼ ë°›ëŠ”ë‹¤.", type: "D" },
            { id: 45, text: "ê±°ì˜ ì„±ì  ì¢Œì ˆê°ì„ ëŠë¼ì§€ ì•ŠëŠ”ë‹¤.<br><span style='color: #000000; font-weight: 400; font-size: 14px; text-align: center; display: block;'>(ë§Œ 19ì„¸ ì´ìƒë§Œ ë‹µë³€í•  ê²ƒ)</span>", type: "E" },
            { id: 46, text: "ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•Šê³ ë„ ì‹œê°„ì„ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.", type: "F" },
            { id: 47, text: "ê°€ì •ìƒí™œê³¼ ì§ì¥ìƒí™œì´ ë‚˜ì—ê²ŒëŠ” ë˜‘ê°™ì´ ì¤‘ìš”í•˜ë‹¤.", type: "G" },
            { id: 48, text: "ìŠ¤íŠ¸ë ˆìŠ¤ ìƒí™©ì„ ê·¹ë³µí•˜ëŠ” ê²ƒì„ ë°°ìš´ ì ì´ ìˆë‹¤.", type: "H" }
        ];

        // ìœ í˜•ë³„ ì§ˆë¬¸ ë²ˆí˜¸
        const typeInfo = {
            A: { name: "ì‹ìƒí™œ", questions: [1, 9, 17, 25, 33, 41] },
            B: { name: "ê¸ˆì£¼/ê¸ˆì—°", questions: [2, 10, 18, 26, 34, 42] },
            C: { name: "ìš´ë™ ì‹¤ì²œ", questions: [3, 11, 19, 27, 35, 43] },
            D: { name: "ì •ì„œì  ì•ˆì •", questions: [4, 12, 20, 28, 36, 44] },
            E: { name: "ì„±ìƒí™œ", questions: [5, 13, 21, 29, 37, 45] },
            F: { name: "ì—¬ê°€í™œë™", questions: [6, 14, 22, 30, 38, 46] },
            G: { name: "ì¼ìƒí™œê· í˜•", questions: [7, 15, 23, 31, 39, 47] },
            H: { name: "ìê¸°ì´í•´ìˆ˜ìš©", questions: [8, 16, 24, 32, 40, 48] }
        };

        // ì•± ìƒíƒœ
        let state = {
            screen: 'intro',
            currentQuestion: 0,
            answers: {},
            pendingChoice: null,
            planText: '',
            questionFilter: 'all',
            unansweredQuestions: [],
            sessionAnsweredCount: 0,
            userEmail: '',
            senderName: ''
        };

        // ì ìˆ˜ ê³„ì‚°
        function calculateScores() {
            const scores = {};
            Object.keys(typeInfo).forEach(type => {
                const qs = typeInfo[type].questions;
                scores[type] = qs.reduce((sum, qNum) => sum + (state.answers[qNum] || 0), 0);
            });
            return scores;
        }

        // ì ìˆ˜ ìƒ‰ìƒ
        function getScoreColor(score) {
            if (score <= 9) return '#e53e3e';
            if (score >= 15) return '#38a169';
            return '#2d3748';
        }

        // í…ŒìŠ¤íŠ¸ ë¦¬ì…‹
        function resetTest() {
            state = {
                screen: 'intro',
                currentQuestion: 0,
                answers: {},
                pendingChoice: null,
                planText: '',
                questionFilter: 'all',
                unansweredQuestions: [],
                sessionAnsweredCount: 0,
                userEmail: '',
                senderName: ''
            };
        }

        // ë‹µë³€ ì„ íƒ
        function selectAnswer(score) {
            state.pendingChoice = score;
            render();
        }

        // í•„í„°ë§ëœ ì§ˆë¬¸ë“¤ ë°˜í™˜
        function getFilteredQuestions() {
            if (state.questionFilter === 'answered') {
                return questions.filter(q => state.answers[q.id] !== undefined);
            } else if (state.questionFilter === 'unanswered') {
                return state.unansweredQuestions.map(qNum => questions.find(q => q.id === qNum)).filter(Boolean);
            }
            return questions;
        }

        // í˜„ì¬ ì§ˆë¬¸ ì •ë³´
        function getCurrentQuestionInfo() {
            const filteredQuestions = getFilteredQuestions();
            const currentIndex = filteredQuestions.findIndex(q => q.id === questions[state.currentQuestion].id);
            
            let current = currentIndex + 1;
            let total = filteredQuestions.length;
            
            if (state.questionFilter === 'unanswered') {
                current = state.sessionAnsweredCount + 1;
                total = state.unansweredQuestions.length;
            }
            
            return {
                current: current,
                total: total,
                isFirst: currentIndex === 0,
                isLast: currentIndex === filteredQuestions.length - 1
            };
        }

        // ë‹¤ìŒìœ¼ë¡œ ì§„í–‰
        function confirmAndNext() {
            const qNum = state.currentQuestion + 1;
            if (state.pendingChoice !== null) {
                state.answers[qNum] = state.pendingChoice;
                
                if (state.questionFilter === 'unanswered') {
                    state.sessionAnsweredCount++;
                }
            }
            state.pendingChoice = null;
            
            const filteredQuestions = getFilteredQuestions();
            const currentIndex = filteredQuestions.findIndex(q => q.id === questions[state.currentQuestion].id);
            
            if (currentIndex < filteredQuestions.length - 1) {
                const nextQuestion = filteredQuestions[currentIndex + 1];
                const nextIndex = questions.findIndex(q => q.id === nextQuestion.id);
                state.currentQuestion = nextIndex;
            } else {
                state.screen = 'review';
            }
            render();
        }

        // ì´ì „ ì§ˆë¬¸
        function goToPrevious() {
            const filteredQuestions = getFilteredQuestions();
            const currentIndex = filteredQuestions.findIndex(q => q.id === questions[state.currentQuestion].id);
            
            if (currentIndex > 0) {
                const prevQuestion = filteredQuestions[currentIndex - 1];
                const prevIndex = questions.findIndex(q => q.id === prevQuestion.id);
                state.currentQuestion = prevIndex;
                state.pendingChoice = state.answers[prevQuestion.id] ?? null;
            }
            render();
        }

        // ë‹¤ìŒ ì§ˆë¬¸
        function goToNext() {
            const filteredQuestions = getFilteredQuestions();
            const currentIndex = filteredQuestions.findIndex(q => q.id === questions[state.currentQuestion].id);
            
            if (currentIndex < filteredQuestions.length - 1) {
                const nextQuestion = filteredQuestions[currentIndex + 1];
                const nextIndex = questions.findIndex(q => q.id === nextQuestion.id);
                state.currentQuestion = nextIndex;
                state.pendingChoice = state.answers[nextQuestion.id] ?? null;
            }
            render();
        }

        // íŠ¹ì • ì§ˆë¬¸ìœ¼ë¡œ ì´ë™
        function goToQuestion(index) {
            state.currentQuestion = index;
            state.pendingChoice = state.answers[index + 1] ?? null;
            state.screen = 'question';
            
            if (state.questionFilter === 'unanswered') {
                state.unansweredQuestions = getUnansweredQuestions();
                state.sessionAnsweredCount = 0;
            }
            
            render();
        }

        // ë‹µë³€ ì™„ë£Œëœ ì§ˆë¬¸ë“¤
        function getAnsweredQuestions() {
            return Object.keys(state.answers).map(Number).sort((a,b) => a-b);
        }

        // ë¯¸ë‹µë³€ ì§ˆë¬¸ë“¤
        function getUnansweredQuestions() {
            const answered = new Set(getAnsweredQuestions());
            return Array.from({length:48},(_,i)=>i+1).filter(n=>!answered.has(n));
        }

        // ğŸ”§ ëª¨ë°”ì¼ ëŒ€ì‘ QRì½”ë“œ ìƒì„± í•¨ìˆ˜ - ì™„ì „íˆ ìƒˆë¡œ ì‘ì„±
        function generateQRCode() {
            console.log('=== ëª¨ë°”ì¼ ëŒ€ì‘ QRì½”ë“œ ìƒì„± ì‹œì‘ ===');
            
            const qrContainer = document.getElementById('qr-code');
            const fallbackContainer = document.getElementById('qr-fallback');
            const url = 'https://coghks926.github.io/stress-test/';
            
            if (!qrContainer) {
                console.log('âŒ QR ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ');
                return;
            }
            
            console.log('âœ… QR ì»¨í…Œì´ë„ˆ ë°œê²¬');
            
            // ëª¨ë°”ì¼ ê°ì§€
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            console.log('ëª¨ë°”ì¼ ê¸°ê¸° ê°ì§€:', isMobile);
            
            if (isMobile) {
                console.log('ğŸ“± ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ QRì½”ë“œ ìƒì„±');
                generateMobileQRCode();
            } else {
                console.log('ğŸ’» ë°ìŠ¤í¬íƒ‘ì—ì„œ QRì½”ë“œ ìƒì„±');
                generateDesktopQRCode();
            }
        }

        // ğŸ”§ ëª¨ë°”ì¼ ì „ìš© QRì½”ë“œ ìƒì„±
        function generateMobileQRCode() {
            const qrContainer = document.getElementById('qr-code');
            const url = 'https://coghks926.github.io/stress-test/';
            
            // ë°©ë²• 1: Google Charts API ì‚¬ìš© (ëª¨ë°”ì¼ì—ì„œ ê°€ì¥ ì•ˆì •ì )
            const img = document.createElement('img');
            img.src = `https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=${encodeURIComponent(url)}`;
            img.alt = 'QR Code';
            img.style.width = '200px';
            img.style.height = '200px';
            img.style.borderRadius = '0.5rem';
            img.style.display = 'block';
            
            // ì´ë¯¸ì§€ ë¡œë“œ ì„±ê³µ
            img.onload = function() {
                console.log('âœ… Google Charts QRì½”ë“œ ë¡œë“œ ì„±ê³µ');
                qrContainer.appendChild(img);
            };
            
            // ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨
            img.onerror = function() {
                console.log('âŒ Google Charts QRì½”ë“œ ë¡œë“œ ì‹¤íŒ¨');
                // ë°©ë²• 2: QRServer API ì‚¬ìš©
                generateMobileQRCodeFallback();
            };
        }

        // ğŸ”§ ëª¨ë°”ì¼ í´ë°± ë°©ë²•
        function generateMobileQRCodeFallback() {
            const qrContainer = document.getElementById('qr-code');
            const url = 'https://coghks926.github.io/stress-test/';
            
            const img = document.createElement('img');
            img.src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(url)}`;
            img.alt = 'QR Code';
            img.style.width = '200px';
            img.style.height = '200px';
            img.style.borderRadius = '0.5rem';
            img.style.display = 'block';
            
            img.onload = function() {
                console.log('âœ… QRServer API QRì½”ë“œ ë¡œë“œ ì„±ê³µ');
                qrContainer.appendChild(img);
            };
            
            img.onerror = function() {
                console.log('âŒ ëª¨ë“  QRì½”ë“œ ìƒì„± ì‹¤íŒ¨');
                // ìµœì¢… í´ë°±: URL í‘œì‹œ
                generateQRCodeFinalFallback();
            };
        }

        // ğŸ”§ ë°ìŠ¤í¬íƒ‘ ì „ìš© QRì½”ë“œ ìƒì„±
        function generateDesktopQRCode() {
            const qrContainer = document.getElementById('qr-code');
            const url = 'https://coghks926.github.io/stress-test/';
            
            // ë°©ë²• 1: QRCode.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
            if (typeof QRCode !== 'undefined') {
                console.log('âœ… QRCode.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©');
                
                const canvas = document.createElement('canvas');
                qrContainer.appendChild(canvas);
                
                QRCode.toCanvas(canvas, url, {
                    width: 200,
                    height: 200,
                    color: {
                        dark: '#000000',
                        light: '#FFFFFF'
                    }
                }, function (error) {
                    if (error) {
                        console.error('âŒ QRCode.js ì‹¤íŒ¨:', error);
                        // í´ë°±ìœ¼ë¡œ ì´ë¯¸ì§€ ì‚¬ìš©
                        generateDesktopQRCodeFallback();
                    } else {
                        console.log('âœ… QRCode.js ì„±ê³µ!');
                    }
                });
            } else {
                console.log('âŒ QRCode.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—†ìŒ');
                generateDesktopQRCodeFallback();
            }
        }

        // ğŸ”§ ë°ìŠ¤í¬íƒ‘ í´ë°± ë°©ë²•
        function generateDesktopQRCodeFallback() {
            const qrContainer = document.getElementById('qr-code');
            const url = 'https://coghks926.github.io/stress-test/';
            
            const img = document.createElement('img');
            img.src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(url)}`;
            img.alt = 'QR Code';
            img.style.width = '200px';
            img.style.height = '200px';
            img.style.borderRadius = '0.5rem';
            
            img.onload = function() {
                console.log('âœ… ë°ìŠ¤í¬íƒ‘ ì´ë¯¸ì§€ QRì½”ë“œ ë¡œë“œ ì„±ê³µ');
                qrContainer.appendChild(img);
            };
            
            img.onerror = function() {
                console.log('âŒ ë°ìŠ¤í¬íƒ‘ QRì½”ë“œ ë¡œë“œ ì‹¤íŒ¨');
                generateQRCodeFinalFallback();
            };
        }

        // ğŸ”§ ìµœì¢… í´ë°± ë°©ë²•: URL í‘œì‹œ
        function generateQRCodeFinalFallback() {
            console.log('=== ìµœì¢… í´ë°± ë°©ë²•: URL í‘œì‹œ ===');
            
            const qrContainer = document.getElementById('qr-code');
            const fallbackContainer = document.getElementById('qr-fallback');
            const url = 'https://coghks926.github.io/stress-test/';
            
            // QRì½”ë“œ ì»¨í…Œì´ë„ˆ ìˆ¨ê¸°ê¸°
            qrContainer.style.display = 'none';
            
            // í´ë°± ì»¨í…Œì´ë„ˆ í‘œì‹œ
            fallbackContainer.classList.add('show');
            
            // URL í‘œì‹œ
            const urlElement = document.getElementById('qr-url');
            if (urlElement) {
                urlElement.textContent = url;
            }
            
            console.log('âœ… URL í´ë°± í‘œì‹œ ì™„ë£Œ');
        }

        // ğŸ”§ URL ë³µì‚¬ í•¨ìˆ˜
        function copyURL() {
            const url = 'https://coghks926.github.io/stress-test/';
            navigator.clipboard.writeText(url).then(function() {
                alert('URLì´ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }).catch(function() {
                // í´ë°±: í…ìŠ¤íŠ¸ ì„ íƒ
                const urlElement = document.getElementById('qr-url');
                if (urlElement) {
                    urlElement.select();
                    document.execCommand('copy');
                    alert('URLì´ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
                }
            });
        }

        // ğŸ”§ ì‚¬ìš©ì ì •ë³´ ì…ë ¥ ê²€ì¦ ë° ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰
        function startTest() {
            const senderName = document.getElementById('user-name').value.trim();
            const userEmail = document.getElementById('user-email').value.trim();
            const consentChecked = document.getElementById('consent').checked;

            if (!senderName) {
                alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (!userEmail) {
                alert('ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ì´ë©”ì¼ í˜•ì‹ ê²€ì¦
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(userEmail)) {
                alert('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ë™ì˜ ì²´í¬ ê²€ì¦
            if (!consentChecked) {
                alert('ê°œì¸ì •ë³´ í™œìš©ì— ë™ì˜í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ì‚¬ìš©ì ì •ë³´ ì €ì¥
            state.senderName = senderName;
            state.userEmail = userEmail;
            
            // ì§ˆë¬¸ í™”ë©´ìœ¼ë¡œ ì´ë™
            state.screen = 'question';
            render();
        }

        // í™”ë©´ ë Œë”ë§
        function render() {
            const app = document.getElementById('app');
            
            if (state.screen === 'intro') {
                app.innerHTML = `
                    <div class="container">
                        <div class="intro-card card">
                            <h1 class="intro-title">ìŠ¤íŠ¸ë ˆìŠ¤ ì·¨ì•½ì„± ê²€ì‚¬</h1>
                            <p class="intro-subtitle">8ê°€ì§€ ì˜ì—­ì˜ ì§ˆë¬¸ìœ¼ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ ì·¨ì•½ì„±ì„ í™•ì¸í•´ë³´ì„¸ìš”.<br>ê° ì§ˆë¬¸ì— ëŒ€í•´ ì†”ì§í•˜ê²Œ ë‹µë³€í•´ì£¼ì„¸ìš”.<br>(ë‹µë³€í•˜ê¸° ê³¤ë€í•œ ë¬¸í•­ì€ ë¬´ì‘ë‹µ ì²˜ë¦¬ ê°€ëŠ¥)</p>
                            <button class="primary-button" onclick="state.screen='user-info'; render();">ì‹œì‘í•˜ê¸°</button>
                        </div>

                        <div class="qr-section">
                            <h2 class="qr-title">ğŸ“± QRì½”ë“œë¡œ ëª¨ë°”ì¼ì—ì„œ ì ‘ì†í•˜ê¸°</h2>
                            <p class="qr-description">
                                ì•„ë˜ QRì½”ë“œë¥¼ ìŠ¤ìº”í•˜ë©´ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œë„ ê°™ì€ ê²€ì‚¬ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                            </p>
                            
                            <div class="qr-container">
                                <div class="qr-code" id="qr-code"></div>
                                <div class="qr-fallback" id="qr-fallback">
                                    <h4>ğŸ“± ëª¨ë°”ì¼ì—ì„œ ì ‘ì†í•˜ê¸°</h4>
                                    <div class="qr-url" id="qr-url"></div>
                                    <button class="copy-button" onclick="copyURL()">URL ë³µì‚¬í•˜ê¸°</button>
                                    <p style="font-size: 14px; color: #666;">
                                        ìœ„ URLì„ ë³µì‚¬í•´ì„œ ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €ì— ë¶™ì—¬ë„£ê¸° í•˜ì„¸ìš”
                                    </p>
                                </div>
                            </div>

                            <div class="qr-instructions">
                                <h4>ğŸ“‹ ì‚¬ìš© ë°©ë²•</h4>
                                <ol>
                                    <li>ìŠ¤ë§ˆíŠ¸í°ì˜ ì¹´ë©”ë¼ ì•± ë˜ëŠ” QRì½”ë“œ ìŠ¤ìº” ì•±ì„ ì‹¤í–‰í•˜ì„¸ìš”</li>
                                    <li>ìœ„ì˜ QRì½”ë“œë¥¼ ìŠ¤ìº”í•˜ì„¸ìš”</li>
                                    <li>ìë™ìœ¼ë¡œ ì´ ê²€ì‚¬ í˜ì´ì§€ê°€ ì—´ë¦½ë‹ˆë‹¤</li>
                                    <li>ëª¨ë°”ì¼ì—ì„œë„ í¸ë¦¬í•˜ê²Œ ê²€ì‚¬ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                `;
                
                // QRì½”ë“œ ìƒì„± í•¨ìˆ˜ í˜¸ì¶œ (DOMì´ ë¡œë“œëœ í›„)
                setTimeout(generateQRCode, 100);
            }
            
            // ğŸ†• ì‚¬ìš©ì ì •ë³´ ì…ë ¥ í™”ë©´ - ê°€ë¡œë¡œ ê¸¸ê²Œ
            else if (state.screen === 'user-info') {
                app.innerHTML = `
                    <div class="container">
                        <div class="user-info-card card">
                            <h1 class="intro-title">ì‚¬ìš©ì ì •ë³´ ì…ë ¥</h1>
                            <p class="intro-subtitle">ê²€ì‚¬ë¥¼ ì‹œì‘í•˜ê¸° ì „ì— ì´ë¦„ê³¼ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
                            
                            <div class="user-info-form">
                                <div class="form-group">
                                    <label class="form-label">ì´ë¦„</label>
                                    <input 
                                        type="text" 
                                        id="user-name"
                                        class="form-input" 
                                        placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
                                        value="${state.senderName}"
                                    />
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">ì´ë©”ì¼ ì£¼ì†Œ</label>
                                    <input 
                                        type="email" 
                                        id="user-email"
                                        class="form-input" 
                                        placeholder="ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                                        value="${state.userEmail}"
                                    />
                                </div>
                                
                                <div class="consent-group">
                                    <div class="consent-text">
                                        ê²€ì‚¬ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë” ë‚˜ì€ ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ ìµëª…í™”ëœ ë°ì´í„°ë¡œ í™œìš©í•˜ëŠ” ê²ƒì— ë™ì˜í•˜ì‹œë‚˜ìš”?
                                    </div>
                                    <div class="consent-checkbox">
                                        <input type="checkbox" id="consent" />
                                        <label for="consent">ë™ì˜í•©ë‹ˆë‹¤</label>
                                    </div>
                                </div>
                            </div>
                            
                            <button class="primary-button" onclick="startTest()">ê²€ì‚¬ ì‹œì‘</button>
                        </div>
                    </div>
                `;
            }
            
            else if (state.screen === 'question') {
                const qNum = state.currentQuestion + 1;
                const saved = state.answers[qNum] ?? null;
                const selected = state.pendingChoice ?? saved;
                const questionInfo = getCurrentQuestionInfo();

                app.innerHTML = `
                    <div class="container">
                        <div class="header">
                            <div class="title-box">
                                <h1 class="title">ìŠ¤íŠ¸ë ˆìŠ¤ ì·¨ì•½ì„± ê²€ì‚¬</h1>
                            </div>
                        </div>
                        <div class="progress-container">
                            <div class="progress">
                                ${questionInfo.current} / ${questionInfo.total}
                                ${state.questionFilter !== 'all' ? `<span class="filter-text"> (${state.questionFilter === 'answered' ? 'ë‹µë³€ì™„ë£Œ' : 'ë¯¸ë‹µë³€'})</span>` : ''}
                            </div>
                        </div>

                        <div class="question-card card no-animation">
                            <div class="q-number">ì§ˆë¬¸ ${qNum}</div>
                            <div class="q-text">${questions[state.currentQuestion].text}</div>
                        </div>

                        <div class="answer-container">
                            <button class="answer-button ${selected === 3 ? 'selected' : ''}" onclick="selectAnswer(3)">
                                ì–¸ì œë‚˜ ê·¸ë ‡ë‹¤ (3ì )
                            </button>
                            <button class="answer-button ${selected === 1 ? 'selected' : ''}" onclick="selectAnswer(1)">
                                ê°€ë” ê·¸ë ‡ë‹¤ (1ì )
                            </button>
                            <button class="answer-button ${selected === 0 ? 'selected' : ''}" onclick="selectAnswer(0)">
                                ì „í˜€ ì•„ë‹ˆë‹¤ (0ì )
                            </button>
                        </div>

                        <div class="footer-nav">
                            <button class="nav-pill" ${questionInfo.isFirst ? 'disabled' : ''} onclick="goToPrevious()">
                                â† ì´ì „
                            </button>

                            <div class="center-buttons">
                                <button class="nav-pill secondary" onclick="state.screen='review'; render();">
                                    ë‹µë³€ í˜„í™©
                                </button>
                            </div>

                            <button class="nav-pill" onclick="confirmAndNext()">
                                ë‹¤ìŒ â†’
                            </button>
                        </div>
                    </div>
                `;
            }
            
            else if (state.screen === 'review') {
                const answered = getAnsweredQuestions();
                const unanswered = getUnansweredQuestions();

                app.innerHTML = `
                    <div class="container">
                        <div class="header">
                            <div class="title-box">
                                <h1 class="title">ë‹µë³€ í˜„í™© í™•ì¸</h1>
                                <div class="subtitle">ì´ ${answered.length}ê°œ ë‹µë³€ ì™„ë£Œ</div>
                            </div>
                        </div>

                        <div class="review-container">
                            <div class="section">
                                <div class="section-title">âœ… ë‹µë³€ ì™„ë£Œ (${answered.length})</div>
                                <div class="question-grid">
                                    ${answered.map(q => `
                                        <div class="answered-badge" onclick="state.questionFilter='answered'; goToQuestion(${q-1});">
                                            <div class="q-badge-num">${q}</div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>

                            ${unanswered.length > 0 ? `
                                <div class="section">
                                    <div class="section-title">âŒ ë¯¸ë‹µë³€ (${unanswered.length})</div>
                                    <div class="question-grid">
                                        ${unanswered.map(q => `
                                            <div class="unanswered-badge" onclick="state.questionFilter='unanswered'; goToQuestion(${q-1});">
                                                <div class="q-badge-num">${q}</div>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                        
                        <div class="review-footer-nav">
                            ${unanswered.length > 0 ? `
                                <button class="review-nav-pill" onclick="state.questionFilter='unanswered'; state.screen='question'; state.unansweredQuestions=${JSON.stringify(unanswered)}; state.sessionAnsweredCount=0; state.currentQuestion=${unanswered[0]-1}; render();">
                                    ì´ì–´í•˜ê¸°
                                </button>
                            ` : `
                                <div></div>
                            `}
                            
                            <button class="review-nav-pill results" onclick="state.screen='results'; render();">
                                ê²°ê³¼ ë³´ê¸°
                            </button>
                        </div>
                    </div>
                `;
            }
            
            else if (state.screen === 'results') {
                const scores = calculateScores();
                
                // ì‹ ì²´ ì˜ì—­ê³¼ ì •ì‹  ì˜ì—­ ë¶„ë¦¬
                const physicalTypes = [
                    { key: 'A', label: 'ì‹ìƒí™œ' },
                    { key: 'B', label: 'ê¸ˆì£¼/ê¸ˆì—°' },
                    { key: 'C', label: 'ìš´ë™ ì‹¤ì²œ' },
                    { key: 'E', label: 'ì„±ìƒí™œ' }
                ];
                
                const mentalTypes = [
                    { key: 'D', label: 'ì •ì„œì  ì•ˆì •' },
                    { key: 'F', label: 'ì—¬ê°€í™œë™' },
                    { key: 'G', label: 'ì¼ìƒí™œê· í˜•' },
                    { key: 'H', label: 'ìê¸°ì´í•´ìˆ˜ìš©' }
                ];
                
                const getCellScore = (qNum) => (state.answers[qNum] ?? '');
                
                // ì‹ í˜¸ë“± ìƒ‰ìƒ ë° ì•„ì´ì½˜
                function getTrafficLight(score) {
                    if (score <= 9) {
                        return { color: '#ef4444', icon: 'ğŸ”´', text: 'ì£¼ì˜' };
                    } else if (score >= 15) {
                        return { color: '#10b981', icon: 'ğŸŸ¢', text: 'ì–‘í˜¸' };
                    } else {
                        return { color: '#f59e0b', icon: 'ğŸŸ¡', text: 'ë³´í†µ' };
                    }
                }

                app.innerHTML = `
                    <div class="container">
                        <div class="header">
                            <div class="title-box">
                                <h1 class="title">ì·¨ì•½ì„± í”„ë¡œíŒŒì¼</h1>
                            </div>
                        </div>

                        <!-- ì‹ ì²´ ì˜ì—­ -->
                        <div class="area-section">
                            <div class="area-header">
                                <div class="area-title-box">
                                    <h2 class="area-title">ğŸƒâ€â™‚ï¸ ì‹ ì²´ ì˜ì—­</h2>
                                </div>
                                <div class="area-subtitle">ì‹ ì²´ì  ê±´ê°•ê³¼ ê´€ë ¨ëœ ì˜ì—­</div>
                            </div>
                            
                            <div class="results-grid">
                                ${physicalTypes.map(type => {
                                    const score = scores[type.key];
                                    const trafficLight = getTrafficLight(score);
                                    return `
                                        <div class="type-card">
                                            <div class="type-header">
                                                <div class="type-label">${type.key}ìœ í˜•</div>
                                                <div class="type-name">${type.label}</div>
                                            </div>
                                            
                                            <div class="questions-section">
                                                ${typeInfo[type.key].questions.map(qNum => `
                                                    <div class="question-item">
                                                        <span class="question-num">${qNum}</span>
                                                        <span class="question-score">${getCellScore(qNum)}</span>
                                                    </div>
                                                `).join('')}
                                            </div>
                                            
                                            <div class="score-section">
                                                <div class="traffic-light" style="color: ${trafficLight.color}">
                                                    <span class="traffic-icon">${trafficLight.icon}</span>
                                                    <span class="traffic-text">${trafficLight.text}</span>
                                                </div>
                                                <div class="total-score" style="color: ${trafficLight.color}">
                                                    ${score}ì 
                                                </div>
                                            </div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>

                        <!-- ì •ì‹  ì˜ì—­ -->
                        <div class="area-section">
                            <div class="area-header">
                                <div class="area-title-box">
                                    <h2 class="area-title">ğŸ§  ì •ì‹  ì˜ì—­</h2>
                                </div>
                                <div class="area-subtitle">ì •ì‹ ì  ê±´ê°•ê³¼ ê´€ë ¨ëœ ì˜ì—­</div>
                            </div>
                            
                            <div class="results-grid">
                                ${mentalTypes.map(type => {
                                    const score = scores[type.key];
                                    const trafficLight = getTrafficLight(score);
                                    return `
                                        <div class="type-card">
                                            <div class="type-header">
                                                <div class="type-label">${type.key}ìœ í˜•</div>
                                                <div class="type-name">${type.label}</div>
                                            </div>
                                            
                                            <div class="questions-section">
                                                ${typeInfo[type.key].questions.map(qNum => `
                                                    <div class="question-item">
                                                        <span class="question-num">${qNum}</span>
                                                        <span class="question-score">${getCellScore(qNum)}</span>
                                                    </div>
                                                `).join('')}
                                            </div>
                                            
                                            <div class="score-section">
                                                <div class="traffic-light" style="color: ${trafficLight.color}">
                                                    <span class="traffic-icon">${trafficLight.icon}</span>
                                                    <span class="traffic-text">${trafficLight.text}</span>
                                                </div>
                                                <div class="total-score" style="color: ${trafficLight.color}">
                                                    ${score}ì 
                                                </div>
                                            </div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>

                        <div class="interpretation-guide">
                            <div class="interpretation-title">í•´ì„ ê°€ì´ë“œ</div>
                            <div class="traffic-guide">
                                <div class="traffic-item">
                                    <span class="traffic-icon">ğŸŸ¢</span>
                                    <span class="traffic-text">15ì  ì´ìƒ: ì–‘í˜¸ - ì˜ ê²¬ë””ê³  ìˆë‹¤ëŠ” ì¦ê±°</span>
                                </div>
                                <div class="traffic-item">
                                    <span class="traffic-icon">ğŸŸ¡</span>
                                    <span class="traffic-text">10-14ì : ë³´í†µ - ì¼ë°˜ì ì¸ ìˆ˜ì¤€</span>
                                </div>
                                <div class="traffic-item">
                                    <span class="traffic-icon">ğŸ”´</span>
                                                    <span class="traffic-text">9ì  ì´í•˜: ì£¼ì˜ - ìŠ¤íŠ¸ë ˆìŠ¤ì— ëŒ€í•œ ë°˜ì‘ì´ ë¶€ì •ì  ê²½í–¥</span>
                                </div>
                            </div>
                        </div>

                        <div class="results-footer-nav">
                            <button class="results-nav-pill" onclick="state.screen='review'; render();">
                                â† ì´ì „
                            </button>
                            
                            <div class="citation">
                                * ì¶œì²˜ : James Cranwell Ward (1990)
                            </div>
                            
                            <button class="results-nav-pill" onclick="state.screen='plan'; render();">
                                ë‹¤ìŒ â†’
                            </button>
                        </div>

                        <div style="height: 100px;"></div>
                    </div>
                `;
            }
            
            else if (state.screen === 'plan') {
                app.innerHTML = `
                    <div class="container">
                        <div class="header" style="margin-bottom: 2rem;">
                            <div class="title-box">
                                <h1 class="title">ë‚˜ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì‹¤ì²œ ì „ëµ</h1>
                                <div class="subtitle">ììœ ë¡­ê²Œ ê³„íšì„ ì ì–´ë³´ì„¸ìš”</div>
                            </div>
                        </div>

                        <div class="plan-card">
                            <textarea 
                                class="plan-input" 
                                placeholder="ì˜ˆ: ë§¤ì£¼ 3íšŒ ìš´ë™, ì¹´í˜ì¸ ì¤„ì´ê¸°, ì£¼ë§ íœ´ì‹ ì‹œê°„ í™•ë³´ ë“±"
                                oninput="state.planText = this.value"
                            >${state.planText}</textarea>
                            
                            <div class="additional-info">
                                <h4>ìŠ¤íŠ¸ë ˆìŠ¤ì™€ ì •ì‹ ê±´ê°• ì¶”ê°€ ì •ë³´</h4>
                                <p>1. ìœ íŠœë¸Œ 'ì´ì¬ê²½êµìˆ˜TV', ê¸¸ë²—ì‹¬ë¦¬ìƒë‹´ì—°êµ¬ì†Œ í™ˆí˜ì´ì§€ ì°¸ì¡°</p>
                                <p>2. êµìœ¡(ê°•ì˜), ì‹¬ë¦¬ìƒë‹´ ë¬¸ì˜ëŠ” ì´ì¬ê²½ ìƒë‹´ì‹¬ë¦¬í•™ë°•ì‚¬ ë©”ì¼ë¡œ ì—°ë½</p>
                                
                                <div class="contact-info">
                                    <strong>ì—°ë½ì²˜:</strong><br>
                                    <a href="mailto:ljg4129@naver.com" class="email">ljg4129@naver.com</a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="plan-footer-nav">
                            <button class="plan-nav-pill" onclick="state.screen='results'; render();">
                                â† ì´ì „
                            </button>
                            
                            <button class="plan-nav-pill" onclick="state.screen='completion'; render();">
                                ë‹¤ìŒ â†’
                            </button>
                        </div>
                    </div>
                `;
            }
            
            // ğŸ†• ë§ˆë¬´ë¦¬ í˜ì´ì§€
            else if (state.screen === 'completion') {
                app.innerHTML = `
                    <div class="container">
                        <div class="completion-card">
                            <div class="completion-icon">ğŸ‰</div>
                            <h1 class="completion-title">ê³ ìƒí•˜ì…¨ìŠµë‹ˆë‹¤!</h1>
                            <p class="completion-message">
                                ìŠ¤íŠ¸ë ˆìŠ¤ ì·¨ì•½ì„± ê²€ì‚¬ë¥¼ ì™„ë£Œí•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.<br>
                                ê²€ì‚¬ ê²°ê³¼ì™€ ì‹¤ì²œ ì „ëµì„ ë°”íƒ•ìœ¼ë¡œ<br>
                                ë” ê±´ê°•í•œ ì¼ìƒì„ ë§Œë“¤ì–´ê°€ì‹œê¸¸ ë°”ëë‹ˆë‹¤.
                            </p>
                            <p class="completion-subtitle">
                                ì–¸ì œë“ ì§€ ë‹¤ì‹œ ê²€ì‚¬í•´ë³´ì‹œê³ ,<br>
                                ê¾¸ì¤€í•œ ìê¸° ê´€ë¦¬ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì˜ ê´€ë¦¬í•˜ì„¸ìš”! ğŸ’ª
                            </p>
                        </div>
                    </div>

                    <div class="footer-bar">
                        <button class="nav-pill" onclick="state.screen='intro'; resetTest(); render();">
                            ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
                        </button>
                    </div>
                `;<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¤íŠ¸ë ˆìŠ¤ ì·¨ì•½ì„± ê²€ì‚¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #2d3748;
            line-height: 1.6;
        }

        .app-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* í—¤ë” ìŠ¤íƒ€ì¼ - ì–‡ê³  ê¸´ ì œëª© ë°•ìŠ¤ */
        .header {
            text-align: center;
            margin-bottom: 1rem;
            position: relative;
        }

        .title-box {
            background: rgba(255,255,255,0.15);
            border-radius: 0.5rem;
            padding: 0.75rem 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            margin-bottom: 0;
            display: inline-block;
            max-width: 90%;
            margin: 0 auto;
            width: auto;
        }

        .title {
            font-size: 28px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .subtitle {
            font-size: 16px;
            color: rgba(255,255,255,0.9);
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            margin-top: 0.25rem;
        }

        .progress-container {
            text-align: center;
            margin-bottom: 2rem;
        }

        .progress {
            font-size: 14px;
            color: #718096;
            font-weight: 600;
            background: rgba(255,255,255,0.9);
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            display: inline-block;
            backdrop-filter: blur(10px);
            white-space: nowrap;
        }

        .filter-text {
            font-size: 12px;
            color: #a0aec0;
            font-style: italic;
            margin-left: 0.5rem;
        }

        /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card {
            background: rgba(255,255,255,0.95);
            border-radius: 1.5rem;
            padding: 2.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }

        .intro-card {
            text-align: center;
            margin-top: 4rem;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        /* ğŸ†• ì‚¬ìš©ì ì •ë³´ ì…ë ¥ ì¹´ë“œ - ê°€ë¡œë¡œ ê¸¸ê²Œ */
        .user-info-card {
            text-align: center;
            margin-top: 4rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            width: 100%;
        }

        .intro-title {
            font-size: 32px;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .intro-subtitle {
            font-size: 16px;
            color: #718096;
            margin-bottom: 2rem;
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* QRì½”ë“œ ìŠ¤íƒ€ì¼ - ëª¨ë°”ì¼ ëŒ€ì‘ */
        .qr-section {
            margin-top: 2rem;
            padding: 2rem;
            background: rgba(255,255,255,0.95);
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .qr-title {
            font-size: 20px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 1rem;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .qr-description {
            font-size: 14px;
            color: #718096;
            margin-bottom: 1.5rem;
            text-align: center;
            line-height: 1.6;
        }

        .qr-container {
            display: flex;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .qr-code {
            padding: 1rem;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            min-width: 200px;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .qr-code img {
            width: 200px;
            height: 200px;
            border-radius: 0.5rem;
        }

        .qr-code canvas {
            width: 200px !important;
            height: 200px !important;
            border-radius: 0.5rem;
        }

        .qr-fallback {
            display: none;
            text-align: center;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 1rem;
            border: 2px dashed #dee2e6;
        }

        .qr-fallback.show {
            display: block;
        }

        .qr-url {
            font-size: 16px;
            font-weight: 600;
            color: #667eea;
            word-break: break-all;
            margin-bottom: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 0.5rem;
            border: 1px solid #e2e8f0;
        }

        .copy-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }

        .copy-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }

        .qr-instructions {
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            padding: 1.5rem;
            border-radius: 1rem;
            border-left: 4px solid #667eea;
        }

        .qr-instructions h4 {
            color: #2d3748;
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 0.75rem;
        }

        .qr-instructions ol {
            color: #4a5568;
            font-size: 14px;
            padding-left: 1.5rem;
            line-height: 1.6;
        }

        .qr-instructions li {
            margin-bottom: 0.5rem;
        }

        /* ì§ˆë¬¸ ì¹´ë“œ */
        .question-card {
            margin-bottom: 1.5rem;
            min-height: 180px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .question-card.no-animation {
            animation: none !important;
        }

        .q-number {
            font-size: 18px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 1rem;
            text-align: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .q-text {
            font-size: 20px;
            line-height: 1.7;
            color: #2d3748;
            text-align: center;
            font-weight: 500;
            word-break: keep-all;
            white-space: normal;
        }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .primary-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1rem 2rem;
            border-radius: 1rem;
            border: none;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
            width: 100%;
            margin-top: 1.5rem;
            white-space: nowrap;
        }

        .primary-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
        }

        .primary-button:active {
            transform: translateY(0);
        }

        .primary-button:disabled {
            background: linear-gradient(135deg, #cbd5e0, #a0aec0);
            color: #e2e8f0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .answer-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .answer-button {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            padding: 1.25rem 1.5rem;
            border-radius: 1rem;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 16px rgba(72, 187, 120, 0.3);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
        }

        .answer-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .answer-button:hover::before {
            left: 100%;
        }

        .answer-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(72, 187, 120, 0.4);
        }

        .answer-button.selected {
            background: linear-gradient(135deg, #2f855a, #276749);
            transform: scale(1.02);
            box-shadow: 0 12px 24px rgba(47, 133, 90, 0.5);
        }

        /* ë„¤ë¹„ê²Œì´ì…˜ - ì§ˆë¬¸ í˜ì´ì§€ìš© (ë” í° í¬ê¸°) */
        .footer-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
            padding-top: 1rem;
            gap: 0.8rem;
        }

        .nav-pill {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1rem 1.4rem;
            border-radius: 2rem;
            border: none;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 100px;
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            flex: 1;
            max-width: 140px;
        }

        .nav-pill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .nav-pill:hover::before {
            left: 100%;
        }

        .nav-pill:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
        }

        .nav-pill:disabled {
            background: linear-gradient(135deg, #cbd5e0, #a0aec0);
            color: #e2e8f0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .nav-pill.secondary {
            background: linear-gradient(135deg, #e2e8f0, #cbd5e0);
            color: #4a5568;
        }

        .nav-pill.dev-button {
            background: linear-gradient(135deg, #6b7280, #9ca3af);
        }

        .center-buttons {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.8rem;
            flex: 1;
            max-width: 140px;
        }

        /* ë‹µë³€ í˜„í™© */
        .review-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .section {
            background: rgba(255,255,255,0.95);
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 1.5rem;
            white-space: nowrap;
        }

        .question-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 1rem;
        }

        .answered-badge, .unanswered-badge {
            border-radius: 1rem;
            padding: 0.75rem;
            text-align: center;
            cursor: pointer;
            border: 2px solid;
            transition: all 0.3s ease;
            font-weight: 600;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .answered-badge:hover, .unanswered-badge:hover {
            transform: scale(1.1);
        }

        .answered-badge {
            background: linear-gradient(135deg, #c6f6d5, #9ae6b4);
            border-color: #48bb78;
            color: #22543d;
        }

        .unanswered-badge {
            background: linear-gradient(135deg, #fed7d7, #feb2b2);
            border-color: #f56565;
            color: #742a2a;
        }

        .q-badge-num {
            font-size: 14px;
            font-weight: 700;
        }

        /* ğŸ†• ìƒˆë¡œìš´ ê²°ê³¼ í˜ì´ì§€ ìŠ¤íƒ€ì¼ - ì˜ì—­ë³„ ë¶„ë¦¬ */
        .area-section {
            margin-bottom: 3rem;
        }

        .area-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .area-title-box {
            background: rgba(255,255,255,0.15);
            border-radius: 0.5rem;
            padding: 0.75rem 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            margin-bottom: 0.5rem;
            display: inline-block;
            min-width: 300px;
            max-width: 90%;
        }

        .area-title {
            font-size: 24px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            white-space: nowrap;
        }

        .area-subtitle {
            font-size: 16px;
            color: rgba(255,255,255,0.9);
            font-weight: 500;
            white-space: nowrap;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .type-card {
            background: rgba(255,255,255,0.95);
            border-radius: 1.5rem;
            padding: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .type-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }

        .type-header {
            text-align: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e2e8f0;
        }

        .type-label {
            font-size: 18px;
            font-weight: 800;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .type-name {
            font-size: 16px;
            font-weight: 600;
            color: #4a5568;
        }

        .questions-section {
            margin-bottom: 1.5rem;
        }

        .question-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid #f1f5f9;
        }

        .question-item:last-child {
            border-bottom: none;
        }

        .question-num {
            font-size: 14px;
            font-weight: 600;
            color: #64748b;
        }

        .question-score {
            font-size: 14px;
            font-weight: 700;
            color: #2d3748;
            background: #f8fafc;
            padding: 0.25rem 0.5rem;
            border-radius: 0.5rem;
            min-width: 30px;
            text-align: center;
        }

        .score-section {
            text-align: center;
            padding-top: 1rem;
            border-top: 2px solid #e2e8f0;
        }

        .traffic-light {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .traffic-icon {
            font-size: 20px;
        }

        .traffic-text {
            font-size: 14px;
            font-weight: 700;
        }

        .total-score {
            font-size: 24px;
            font-weight: 800;
        }

        /* ì‹¤ì²œ ì „ëµ */
        .plan-card {
            background: rgba(255,255,255,0.95);
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            margin-bottom: 1rem;
        }

        .plan-input {
            width: 100%;
            min-height: 300px;
            font-size: 16px;
            color: #2d3748;
            border: 2px solid #e2e8f0;
            border-radius: 1rem;
            padding: 1.5rem;
            resize: vertical;
            font-family: inherit;
            line-height: 1.7;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.8);
        }

        .plan-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: white;
        }

        .plan-input::placeholder {
            color: #a0aec0;
            font-weight: 500;
        }

        /* ì´ë©”ì¼ ì…ë ¥ ìŠ¤íƒ€ì¼ */
        .email-card {
            background: rgba(255,255,255,0.95);
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            margin-bottom: 6rem;
        }

        .email-input {
            width: 100%;
            padding: 1rem 1.5rem;
            font-size: 16px;
            color: #2d3748;
            border: 2px solid #e2e8f0;
            border-radius: 1rem;
            font-family: inherit;
            line-height: 1.7;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.8);
            margin-bottom: 1.5rem;
        }

        .email-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: white;
        }

        .email-input::placeholder {
            color: #a0aec0;
            font-weight: 500;
        }

        /* ğŸ†• ì‚¬ìš©ì ì •ë³´ ì…ë ¥ í¼ ìŠ¤íƒ€ì¼ - ê°€ë¡œë¡œ ê¸¸ê³  ì–‡ê²Œ */
        .user-info-form {
            text-align: left;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-size: 16px;
            font-weight: 700;
            color: #4a5568;
            margin-bottom: 0.5rem;
        }

        .form-input {
            width: 100%;
            padding: 0.75rem 1rem;
            font-size: 16px;
            color: #2d3748;
            border: 2px solid #e2e8f0;
            border-radius: 0.5rem;
            font-family: inherit;
            line-height: 1.5;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.8);
            height: 48px;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: white;
        }

        .form-input::placeholder {
            color: #a0aec0;
            font-weight: 500;
        }

        /* ğŸ†• ë™ì˜ ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ - í…Œë‘ë¦¬ ì¶”ê°€ */
        .consent-group {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: rgba(255,255,255,0.8);
            border: 2px solid #e2e8f0;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }

        .consent-group:focus-within {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: white;
        }

        .consent-text {
            font-size: 14px;
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 0.75rem;
        }

        .consent-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .consent-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #667eea;
        }

        .consent-checkbox label {
            font-size: 14px;
            color: #4a5568;
            font-weight: 600;
            cursor: pointer;
        }

        /* ğŸ†• ë§ˆë¬´ë¦¬ í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
        .completion-card {
            background: rgba(255,255,255,0.95);
            padding: 3rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            text-align: center;
            margin-bottom: 6rem;
        }

        .completion-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            display: block;
        }

        .completion-title {
            font-size: 28px;
            font-weight: 800;
            color: #38a169;
            margin-bottom: 1rem;
        }

        .completion-message {
            font-size: 18px;
            color: #4a5568;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .completion-subtitle {
            font-size: 16px;
            color: #718096;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        /* ì´ë©”ì¼ ì„±ê³µ í™”ë©´ ìŠ¤íƒ€ì¼ */
        .success-card {
            background: rgba(255,255,255,0.95);
            padding: 3rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            text-align: center;
            margin-bottom: 6rem;
        }

        .success-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            display: block;
        }

        .success-title {
            font-size: 24px;
            font-weight: 800;
            color: #38a169;
            margin-bottom: 1rem;
        }

        .success-message {
            font-size: 16px;
            color: #4a5568;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        /* í•˜ë‹¨ ë°” - ì›ë˜ í¬ê¸°ë¡œ ë³µì› */
        .footer-bar {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            right: 2rem;
            max-width: 1160px;
            margin: 0 auto;
        }

        .footer-bar .nav-pill {
            width: 100%;
            padding: 1rem 2rem;
            font-size: 18px;
            min-width: auto;
            max-width: none;
            flex: none;
        }

        /* í•´ì„ ê°€ì´ë“œ */
        .interpretation-guide {
            margin-top: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            background: rgba(255,255,255,0.9);
            padding: 2rem;
            border-radius: 1rem;
            backdrop-filter: blur(10px);
        }

        .interpretation-title {
            color: #2d3748;
            font-weight: 700;
            font-size: 18px;
        }

        .traffic-guide {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .traffic-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .traffic-item .traffic-icon {
            font-size: 18px;
        }

        .traffic-item .traffic-text {
            font-size: 16px;
            color: #4a5568;
            font-weight: 500;
        }

        .interpretation-text {
            color: #4a5568;
            font-size: 16px;
            font-weight: 500;
        }

        .score-red {
            color: #e53e3e;
            font-weight: 800;
        }

        .score-green {
            color: #38a169;
            font-weight: 800;
        }

        /* ğŸ†• ë‹µë³€ í˜„í™© í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ìŠ¤íƒ€ì¼ - ì´ì „/ë‹¤ìŒ ë²„íŠ¼ì²˜ëŸ¼ */
        .review-footer-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
            gap: 0.8rem;
        }

        .review-nav-pill {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1rem 1.4rem;
            border-radius: 2rem;
            border: none;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 100px;
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            flex: 1;
            max-width: 140px;
        }

        .review-nav-pill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .review-nav-pill:hover::before {
            left: 100%;
        }

        .review-nav-pill:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
        }

        .review-nav-pill:disabled {
            background: linear-gradient(135deg, #cbd5e0, #a0aec0);
            color: #e2e8f0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .review-nav-pill.results {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            box-shadow: 0 6px 12px rgba(240, 147, 251, 0.3);
        }

        .review-nav-pill.results:hover {
            box-shadow: 0 8px 16px rgba(240, 147, 251, 0.4);
        }

        /* ğŸ†• ê²°ê³¼ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ìŠ¤íƒ€ì¼ - ì§ˆë¬¸ í˜ì´ì§€ì™€ ê°™ì€ í¬ê¸° */
        .results-footer-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1.33rem;
            gap: 1rem;
        }

        .results-nav-pill {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1rem 1.4rem;
            border-radius: 2rem;
            border: none;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 100px;
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            flex: 1;
            max-width: 140px;
        }

        .results-nav-pill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .results-nav-pill:hover::before {
            left: 100%;
        }

        .results-nav-pill:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
        }

        .results-nav-pill:disabled {
            background: linear-gradient(135deg, #cbd5e0, #a0aec0);
            color: #e2e8f0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* ğŸ†• ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì‹¤ì²œ ì „ëµ í˜ì´ì§€ ì¶”ê°€ ì •ë³´ ìŠ¤íƒ€ì¼ */
        .additional-info {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(102, 126, 234, 0.1);
        }

        .additional-info h4 {
            color: #2d3748;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .additional-info p {
            color: #4a5568;
            font-size: 0.95rem;
            margin-bottom: 0.8rem;
            line-height: 1.6;
        }

        .additional-info .contact-info {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
            border-left: 3px solid #667eea;
        }

        .additional-info .contact-info strong {
            color: #2d3748;
            font-weight: 600;
        }

        .additional-info .email {
            color: #667eea;
            font-weight: 600;
            text-decoration: none;
        }

        .additional-info .email:hover {
            text-decoration: underline;
        }

        /* ğŸ†• ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì‹¤ì²œ ì „ëµ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ìŠ¤íƒ€ì¼ - ê²°ê³¼ í˜ì´ì§€ì™€ ê°™ì€ í¬ê¸° */
        .plan-footer-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 0.33rem;
            gap: 1rem;
        }

        .plan-nav-pill {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1rem 1.4rem;
            border-radius: 2rem;
            border: none;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 100px;
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            flex: 1;
            max-width: 140px;
        }

        .plan-nav-pill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .plan-nav-pill:hover::before {
            left: 100%;
        }

        .plan-nav-pill:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
        }

        .plan-nav-pill:disabled {
            background: linear-gradient(135deg, #cbd5e0, #a0aec0);
            color: #e2e8f0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ - ì§ˆë¬¸ í˜ì´ì§€ ë²„íŠ¼ ë” í¬ê²Œ */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .card {
                padding: 1.5rem;
            }
            
            .question-card {
                min-height: 150px;
            }
            
            /* ì§ˆë¬¸ í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ë” í¬ê²Œ */
            .footer-nav .nav-pill {
                font-size: 14px !important;
                padding: 0.8rem 1rem !important;
                min-width: 80px !important;
                max-width: 110px !important;
            }
            
            .footer-nav {
                gap: 0.5rem !important;
            }
            
            .footer-nav .center-buttons {
                gap: 0.5rem !important;
                max-width: 110px !important;
            }
            
            .question-grid {
                grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
                gap: 0.75rem;
            }
            
            .answered-badge, .unanswered-badge {
                min-height: 45px;
                padding: 0.5rem;
            }

            .qr-section {
                padding: 1.5rem;
            }

            .qr-code img, .qr-code canvas {
                width: 150px;
                height: 150px;
            }

            /* ëª¨ë°”ì¼ì—ì„œë„ ì œëª© í¬ê¸° ìœ ì§€ */
            .title {
                font-size: 24px !important;
            }
            
            .intro-title {
                font-size: 28px !important;
            }

            .title-box {
                padding: 0.5rem 1.5rem;
                max-width: 95%;
            }

            /* ê²°ê³¼ í˜ì´ì§€ íƒœë¸”ë¦¿ ìµœì í™” - 4x1 ìœ ì§€í•˜ë˜ í¬ê¸° ì¶•ì†Œ */
            .results-grid {
                grid-template-columns: repeat(4, 1fr) !important;
                gap: 0.5rem !important;
            }

            .type-card {
                padding: 0.75rem !important;
            }

            .type-label {
                font-size: 14px !important;
            }

            .type-name {
                font-size: 12px !important;
            }

            .question-item {
                padding: 0.25rem 0 !important;
            }

            .question-num {
                font-size: 12px !important;
            }

            .question-score {
                font-size: 12px !important;
                padding: 0.125rem 0.25rem !important;
                min-width: 25px !important;
            }

            .traffic-icon {
                font-size: 16px !important;
            }

            .traffic-text {
                font-size: 12px !important;
            }

            .total-score {
                font-size: 18px !important;
            }

            .area-title-box {
                min-width: 250px;
                padding: 0.5rem 1.5rem;
            }

            .area-title {
                font-size: 20px !important;
            }

            .traffic-guide {
                gap: 0.5rem;
            }

            /* ë‹µë³€ í˜„í™© í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ëª¨ë°”ì¼ */
            .review-footer-nav .review-nav-pill {
                font-size: 14px !important;
                padding: 0.8rem 1rem !important;
                min-width: 80px !important;
                max-width: 110px !important;
            }
            
            .review-footer-nav {
                gap: 0.5rem !important;
            }

            /* ê²°ê³¼ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ëª¨ë°”ì¼ - ì§ˆë¬¸ í˜ì´ì§€ì™€ ê°™ì€ í¬ê¸° */
            .results-footer-nav .results-nav-pill {
                font-size: 14px !important;
                padding: 0.8rem 1rem !important;
                min-width: 80px !important;
                max-width: 110px !important;
            }
            
            .results-footer-nav {
                gap: 0.5rem !important;
                margin-top: 0.67rem !important;
            }

            /* ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì‹¤ì²œ ì „ëµ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ëª¨ë°”ì¼ - ê²°ê³¼ í˜ì´ì§€ì™€ ê°™ì€ í¬ê¸° */
            .plan-footer-nav .plan-nav-pill {
                font-size: 14px !important;
                padding: 0.8rem 1rem !important;
                min-width: 80px !important;
                max-width: 110px !important;
            }
            
            .plan-footer-nav {
                gap: 0.5rem !important;
                margin-top: 0.17rem !important;
            }

            /* ë§ˆë¬´ë¦¬ í˜ì´ì§€ ëª¨ë°”ì¼ */
            .completion-card {
                padding: 2rem;
            }

            .completion-title {
                font-size: 24px !important;
            }

            .completion-message {
                font-size: 16px !important;
            }

            /* ë‹µë³€ í˜„í™© ê°„ê²© ì¡°ì • */
            .review-container {
                gap: 0.5rem !important;
                margin-bottom: 0.5rem !important;
            }

            .section {
                padding: 1.5rem !important;
            }

            .section-title {
                font-size: 16px !important;
                margin-bottom: 1rem !important;
            }

            .q-badge-num {
                font-size: 12px !important;
            }

            /* ì¶”ê°€ ì •ë³´ ëª¨ë°”ì¼ */
            .additional-info {
                padding: 1.2rem;
            }

            .additional-info h4 {
                font-size: 1rem;
            }

            .additional-info p {
                font-size: 0.9rem;
            }

            /* ì‹¤ì²œ ì „ëµ ì¹´ë“œ ëª¨ë°”ì¼ */
            .plan-card {
                margin-bottom: 0.5rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0.75rem;
            }
            
            .card {
                padding: 1rem;
            }
            
            /* ë” ì‘ì€ í™”ë©´ì—ì„œ ì§ˆë¬¸ í˜ì´ì§€ ë²„íŠ¼ ë” í¬ê²Œ */
            .footer-nav .nav-pill {
                font-size: 13px !important;
                padding: 0.7rem 0.8rem !important;
                min-width: 70px !important;
                max-width: 95px !important;
            }
            
            .footer-nav {
                gap: 0.4rem !important;
            }
            
            .footer-nav .center-buttons {
                gap: 0.4rem !important;
                max-width: 95px !important;
            }
            
            .question-grid {
                grid-template-columns: repeat(auto-fill, minmax(45px, 1fr));
                gap: 0.5rem;
            }
            
            .answered-badge, .unanswered-badge {
                min-height: 40px;
                padding: 0.375rem;
            }

            .qr-section {
                padding: 1rem;
            }

            .qr-code img, .qr-code canvas {
                width: 120px;
                height: 120px;
            }

            /* ì‘ì€ í™”ë©´ì—ì„œë„ ì œëª© í¬ê¸° ìœ ì§€ */
            .title {
                font-size: 20px !important;
            }
            
            .intro-title {
                font-size: 24px !important;
            }

            .title-box {
                padding: 0.5rem 1rem;
                max-width: 95%;
            }

            /* ê²°ê³¼ í˜ì´ì§€ ëª¨ë°”ì¼ ìµœì í™” - 4x1 ìœ ì§€í•˜ë˜ ë” ì‘ê²Œ */
            .results-grid {
                grid-template-columns: repeat(4, 1fr) !important;
                gap: 0.25rem !important;
            }

            .type-card {
                padding: 0.5rem !important;
            }

            .type-header {
                margin-bottom: 0.75rem !important;
                padding-bottom: 0.5rem !important;
            }

            .type-label {
                font-size: 12px !important;
            }

            .type-name {
                font-size: 10px !important;
            }

            .questions-section {
                margin-bottom: 0.75rem !important;
            }

            .question-item {
                padding: 0.125rem 0 !important;
            }

            .question-num {
                font-size: 10px !important;
            }

            .question-score {
                font-size: 10px !important;
                padding: 0.125rem 0.25rem !important;
                min-width: 20px !important;
            }

            .score-section {
                padding-top: 0.5rem !important;
            }

            .traffic-light {
                margin-bottom: 0.25rem !important;
            }

            .traffic-icon {
                font-size: 14px !important;
            }

            .traffic-text {
                font-size: 10px !important;
            }

            .total-score {
                font-size: 16px !important;
            }

            .area-title-box {
                min-width: 200px;
                padding: 0.5rem 1rem;
            }

            .area-title {
                font-size: 18px !important;
            }

            .traffic-item .traffic-text {
                font-size: 14px !important;
            }

            /* ë‹µë³€ í˜„í™© í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ì‘ì€ í™”ë©´ */
            .review-footer-nav .review-nav-pill {
                font-size: 13px !important;
                padding: 0.7rem 0.8rem !important;
                min-width: 70px !important;
                max-width: 95px !important;
            }
            
            .review-footer-nav {
                gap: 0.4rem !important;
            }

            /* ê²°ê³¼ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ì‘ì€ í™”ë©´ - ì§ˆë¬¸ í˜ì´ì§€ì™€ ê°™ì€ í¬ê¸° */
            .results-footer-nav .results-nav-pill {
                font-size: 13px !important;
                padding: 0.7rem 0.8rem !important;
                min-width: 70px !important;
                max-width: 95px !important;
            }
            
            .results-footer-nav {
                gap: 0.4rem !important;
                margin-top: 0.67rem !important;
            }

            /* ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì‹¤ì²œ ì „ëµ í˜ì´ì§€ í•˜ë‹¨ ë²„íŠ¼ ì‘ì€ í™”ë©´ - ê²°ê³¼ í˜ì´ì§€ì™€ ê°™ì€ í¬ê¸° */
            .plan-footer-nav .plan-nav-pill {
                font-size: 13px !important;
                padding: 0.7rem 0.8rem !important;
                min-width: 70px !important;
                max-width: 95px !important;
            }
            
            .plan-footer-nav {
                gap: 0.4rem !important;
                margin-top: 0.17rem !important;
            }

            /* ë§ˆë¬´ë¦¬ í˜ì´ì§€ ì‘ì€ í™”ë©´ */
            .completion-card {
                padding: 1.5rem;
            }

            .completion-title {
                font-size: 20px !important;
            }

            .completion-message {
                font-size: 14px !important;
            }

            /* ë‹µë³€ í˜„í™© ê°„ê²© ì¡°ì • - ë” ì‘ê²Œ */
            .review-container {
                gap: 0.25rem !important;
                margin-bottom: 0.25rem !important;
            }

            .section {
                padding: 1rem !important;
            }

            .section-title {
                font-size: 14px !important;
                margin-bottom: 0.75rem !important;
            }

            .q-badge-num {
                font-size: 10px !important;
            }

            .review-footer-nav {
                margin-top: 0.5rem !important;
            }

            /* ì¶”ê°€ ì •ë³´ ì‘ì€ í™”ë©´ */
            .additional-info {
                padding: 1rem;
            }

            .additional-info h4 {
                font-size: 0.95rem;
            }

            .additional-info p {
                font-size: 0.85rem;
            }

            /* ì‹¤ì²œ ì „ëµ ì¹´ë“œ ì‘ì€ í™”ë©´ */
            .plan-card {
                margin-bottom: 0.25rem;
            }
        }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            animation: fadeIn 0.6s ease-out;
        }

        /* ì¶œì²˜ ìŠ¤íƒ€ì¼ */
        .citation {
            text-align: center;
            margin-top: 2rem;
            padding: 1rem;
            color: rgba(255,255,255,0.7);
            font-size: 12px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div id="app"></div>
    </div>

    <!-- QRì½”ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>

    <script>
        // ì§ˆë¬¸ ë°ì´í„°
        const questions = [
            { id: 1, text: "ì ì ˆí•œ ìŒì‹ì„ ì ë‹¹ëŸ‰ ë¨¹ëŠ”ë‹¤.", type: "A" },
            { id: 2, text: "ì ì‹¬ì‹ì‚¬ ë•Œ ìˆ ì„ ë§ˆì‹œì§€ ì•ŠëŠ”ë‹¤.", type: "B" },
            { id: 3, text: "ì¼ì£¼ì¼ì— ì ì–´ë„ 3ë²ˆ ì •ë„ëŠ” ë•€ì´ ë‚  ì •ë„ë¡œ ìš´ë™ì„ í•œë‹¤.", type: "C" },
            { id: 4, text: "ì¹œêµ¬ë‚˜ ì¹œì²™ê³¼ ì •ê¸°ì  ëª¨ì„ì´ë‚˜ ë™ì°½ ëª¨ì„ì„ ê°–ëŠ”ë‹¤.", type: "D" },
            { id: 5, text: "ë‚˜ì˜ ì„±ìƒí™œì— ë§Œì¡±í•œë‹¤.<br><span style='color: #000000; font-weight: 400; font-size: 14px; text-align: center; display: block;'>(ë§Œ 19ì„¸ ì´ìƒë§Œ ë‹µë³€í•  ê²ƒ)</span>", type: "E" },
            { id: 6, text: "ì ì–´ë„ í•œ ê°€ì§€ ì´ìƒì˜ ì—¬ê°€í™œë™ì´ë‚˜ ê·œì¹™ì ìœ¼ë¡œ ì¦ê¸°ëŠ” í¥ë¯¸ê±°ë¦¬ê°€ ìˆë‹¤.", type: "F" },
            { id: 7, text: "ì£¼ë§ì—ëŠ” ì¼í•˜ì§€ ì•Šê³  ì‰¬ê±°ë‚˜ ì—¬ê°€í™œë™ì„ í•œë‹¤.", type: "G" },
            { id: 8, text: "ê·œì¹™ì ìœ¼ë¡œ ê¸°ë„ë¥¼ í•˜ê±°ë‚˜ ëª…ìƒì„ í•œë‹¤.", type: "H" },
            { id: 9, text: "í•˜ë£¨ì— ì»¤í”¼, ë˜ëŠ” ì½œë¼ ë“±ì„ 5ì” ì´ìƒ ë§ˆì‹œì§€ ì•ŠëŠ”ë‹¤.", type: "A" },
            { id: 10, text: "ìŒë£Œìˆ˜ë¥¼ ìˆ  ë§ˆì‹œê¸°ë³´ë‹¤ ë” ì¢‹ì•„í•œë‹¤.", type: "B" },
            { id: 11, text: "ì¼ìƒìƒí™œ ê°€ìš´ë° ì ë‹¹í•œ ì‹ ì²´ì—ë„ˆì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¼ì„ í•œë‹¤.", type: "C" },
            { id: 12, text: "ê·œì¹™ì ìœ¼ë¡œ ì• ì •ì„ ì£¼ê³ ë°›ëŠ”ë‹¤.", type: "D" },
            { id: 13, text: "ê·œì¹™ì ìœ¼ë¡œ ì„±ì  ë§Œì¡±ê°ì„ ì·¨í•œë‹¤.<br><span style='color: #000000; font-weight: 400; font-size: 14px; text-align: center; display: block;'>(ë§Œ 19ì„¸ ì´ìƒë§Œ ë‹µë³€í•  ê²ƒ)</span>", type: "E" },
            { id: 14, text: "ë§¤ì¼ íœ´ì‹ì‹œê°„ì„ ê°–ëŠ”ë‹¤.", type: "F" },
            { id: 15, text: "í•  ìˆ˜ ìˆëŠ” ì¼(í˜„ì‹¤ì ì¸ ì¼)ë§Œ í•˜ë©° ê³¼ë„í•˜ê²Œ ì¼í•˜ì§€ ì•ŠëŠ”ë‹¤.", type: "G" },
            { id: 16, text: "ë‚˜ì˜ ë¬¸ì œë¥¼ ë‚´ ìŠ¤ìŠ¤ë¡œ í•´ê²°í•œë‹¤.", type: "H" },
            { id: 17, text: "ë‚˜ì˜ í‚¤ì— ì•Œë§ì€ ì ì ˆí•œ ì²´ì¤‘ì„ ìœ ì§€í•œë‹¤.", type: "A" },
            { id: 18, text: "ë‚˜ í˜¼ìì„œëŠ” ìˆ ì„ ë§ˆì‹œì§€ ì•ŠëŠ”ë‹¤.", type: "B" },
            { id: 19, text: "ì—˜ë¦¬ë² ì´í„°ë‚˜ ìŠ¹ê°•ê¸°ë¥¼ ì´ìš©í•˜ê¸°ë³´ë‹¤ëŠ” ê³„ë‹¨ì„ ê±¸ì–´ ì˜¬ë¼ê°„ë‹¤.", type: "C" },
            { id: 20, text: "ë¶€ì •ì  ê°ì •ì„ ìŒ“ì•„ë‘ê¸°ë³´ë‹¤ëŠ” ì˜ í‘œí˜„í•œë‹¤.", type: "D" },
            { id: 21, text: "ì„±ì ìœ¼ë¡œ ë¬´ë ¥í•˜ê±°ë‚˜ ëƒ‰ë‹´í•˜ì§€ ì•Šë‹¤.<br><span style='color: #000000; font-weight: 400; font-size: 14px; text-align: center; display: block;'>(ë§Œ 19ì„¸ ì´ìƒë§Œ ë‹µë³€í•  ê²ƒ)</span>", type: "E" },
            { id: 22, text: "ì ì–´ë„ ì¼ì£¼ì¼ì— ë‚˜í˜ ì •ë„ëŠ” 7~8ì‹œê°„ ì ì„ ì”ë‹¤.", type: "F" },
            { id: 23, text: "ê²°ì½” ì¼(ì‚¬ì—…)ì´ ë‚˜ì˜ ìƒí™œì„ ì§€ë°°í•˜ë„ë¡ ë‘ì§€ ì•ŠëŠ”ë‹¤.", type: "G" },
            { id: 24, text: "ë‚˜ ìì‹ ì„ ë¯¿ëŠ”ë‹¤.", type: "H" },
            { id: 25, text: "ìŒì‹ì— ì†Œê¸ˆì„ ê³¼í•˜ê²Œ ë„£ì§€ ì•ŠëŠ”ë‹¤.", type: "A" },
            { id: 26, text: "í‡´ê·¼ í›„ ì§‘ì—ì„œ ìˆ ì„ ì˜ ë§ˆì‹œì§€ ì•ŠëŠ”ë‹¤.", type: "B" },
            { id: 27, text: "ê·œì¹™ì ì¸ ìš´ë™ í”„ë¡œê·¸ë¨ì„ ì‹¤ì²œí•œë‹¤.", type: "C" },
            { id: 28, text: "ë§¤ìš° ì ˆì¹œí•œ ì¹œêµ¬ê°€ ìˆì–´ ê·¸ë“¤ê³¼ ì€ë°€í•œ ë¬¸ì œë¥¼ ë…¼ì˜í•  ìˆ˜ ìˆë‹¤.", type: "D" },
            { id: 29, text: "ì‚¬ë‘ì´ ì¶©ë§Œí•œ ì„±ê´€ê³„ë¥¼ ê°–ëŠ”ë‹¤.<br><span style='color: #000000; font-weight: 400; font-size: 14px; text-align: center; display: block;'>(ë§Œ 19ì„¸ ì´ìƒë§Œ ë‹µë³€í•  ê²ƒ)</span>", type: "E" },
            { id: 30, text: "ì¼ì£¼ì¼ì— ì ì–´ë„ í•œë²ˆì€ ì¬ë¯¸ìˆëŠ” ì¼ì„ í•œë‹¤.", type: "F" },
            { id: 31, text: "ì‚¬íšŒìƒí™œì—ì„œ ë‚˜ ìì‹ ì˜ ì‚¬ì—…ì— ëŒ€í•´ ë§í•˜ëŠ” ê²ƒì„ í”¼í•œë‹¤.", type: "G" },
            { id: 32, text: "ë‚´ ë§ˆìŒì´ í‰ì•ˆí•˜ë‹¤ëŠ” ëŠë‚Œì„ ê°–ëŠ”ë‹¤.", type: "H" },
            { id: 33, text: "ë§¤ì¼ ê·œì¹™ì ìœ¼ë¡œ ì‹ì‚¬ë¥¼ í•˜ê³  êµ°ê²ƒì§ˆì€ í•˜ì§€ ì•ŠëŠ”ë‹¤.", type: "A" },
            { id: 34, text: "ì ë‹¹í•˜ê²Œ ìˆ ì„ ë§ˆì‹œê±°ë‚˜(í•˜ë£¨ 2ì” ë¯¸ë§Œ), ì „í˜€ ë§ˆì‹œì§€ ì•ŠëŠ”ë‹¤.", type: "B" },
            { id: 35, text: "ë§¤ì£¼ í•œê°€ì§€ ì´ìƒì˜ ìš´ë™ì„ í•œë‹¤.", type: "C" },
            { id: 36, text: "ì§ì¥ì—ì„œ ë‚˜ë¥¼ ì •ì„œì ìœ¼ë¡œ ì§€ì§€í•´ ì£¼ëŠ” ë™ë£Œê°€ ìˆë‹¤.", type: "D" },
            { id: 37, text: "ì•ˆì •ëœ ì„±ê´€ê³„ë¥¼ ìœ ì§€í•˜ê¸¸ ì¢‹ì•„í•œë‹¤.<br><span style='color: #000000; font-weight: 400; font-size: 14px; text-align: center; display: block;'>(ë§Œ 19ì„¸ ì´ìƒë§Œ ë‹µë³€í•  ê²ƒ)</span>", type: "E" },
            { id: 38, text: "ë‚˜ ìŠ¤ìŠ¤ë¡œ ì¦ê±°ìš´ ì¼ê±°ë¦¬ë¥¼ ë§ˆë ¨í•  ìˆ˜ ìˆë‹¤.", type: "F" },
            { id: 39, text: "ì•¼ê°„ì—ëŠ” ì¼í•˜ì§€ ì•ŠëŠ”ë‹¤.", type: "G" },
            { id: 40, text: "ì–´ë–¤ ì¼ì´ë‚˜ ì–´ë–¤ ë‹¨ì²´ì— ëŒ€í•´ ë†’ì€ ì†Œì†ê°ì„ ê°–ëŠ”ë‹¤.", type: "H" },
            { id: 41, text: "ê·œì¹™ì ìœ¼ë¡œ ë¬¼ì„ ë§ˆì‹ ë‹¤.", type: "A" },
            { id: 42, text: "í•˜ë£¨ 3ê°œí”¼ ì´í•˜ì˜ ë‹´ë°°ë¥¼ í”¼ìš°ê±°ë‚˜ ì•„ì˜ˆ í”¼ìš°ì§€ ì•ŠëŠ”ë‹¤.", type: "B" },
            { id: 43, text: "ë§¤ì¼ ì‚°ì±…í•˜ê±°ë‚˜ ê¸¸ì„ ê±·ëŠ”ë‹¤.", type: "C" },
            { id: 44, text: "ì¹œêµ¬ë¡œë¶€í„° ë„ì›€ì„ êµ¬í•˜ê±°ë‚˜ í•„ìš”í•˜ë©´ ì „ë¬¸ì  ì¶©ê³ ë¥¼ ë°›ëŠ”ë‹¤.", type: "D" },
            { id: 45, text: "ê±°ì˜ ì„±ì  ì¢Œì ˆê°ì„ ëŠë¼ì§€ ì•ŠëŠ”ë‹¤.<br><span style='color: #000000; font-weight: 400; font-size: 14px; text-align: center; display: block;'>(ë§Œ 19ì„¸ ì´ìƒë§Œ ë‹µë³€í•  ê²ƒ)</span>", type: "E" },
            { id: 46, text: "ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•Šê³ ë„ ì‹œê°„ì„ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.", type: "F" },
            { id: 47, text: "ê°€ì •ìƒí™œê³¼ ì§ì¥ìƒí™œì´ ë‚˜ì—ê²ŒëŠ” ë˜‘ê°™ì´ ì¤‘ìš”í•˜ë‹¤.", type: "G" },
            { id: 48, text: "ìŠ¤íŠ¸ë ˆìŠ¤ ìƒí™©ì„ ê·¹ë³µí•˜ëŠ” ê²ƒì„ ë°°ìš´ ì ì´ ìˆë‹¤.", type: "H" }
        ];

        // ìœ í˜•ë³„ ì§ˆë¬¸ ë²ˆí˜¸
        const typeInfo = {
            A: { name: "ì‹ìƒí™œ", questions: [1, 9, 17, 25, 33, 41] },
            B: { name: "ê¸ˆì£¼/ê¸ˆì—°", questions: [2, 10, 18, 26, 34, 42] },
            C: { name: "ìš´ë™ ì‹¤ì²œ", questions: [3, 11, 19, 27, 35, 43] },
            D: { name: "ì •ì„œì  ì•ˆì •", questions: [4, 12, 20, 28, 36, 44] },
            E: { name: "ì„±ìƒí™œ", questions: [5, 13, 21, 29, 37, 45] },
            F: { name: "ì—¬ê°€í™œë™", questions: [6, 14, 22, 30, 38, 46] },
            G: { name: "ì¼ìƒí™œê· í˜•", questions: [7, 15, 23, 31, 39, 47] },
            H: { name: "ìê¸°ì´í•´ìˆ˜ìš©", questions: [8, 16, 24, 32, 40, 48] }
        };

        // ì•± ìƒíƒœ
        let state = {
            screen: 'intro',
            currentQuestion: 0,
            answers: {},
            pendingChoice: null,
            planText: '',
            questionFilter: 'all',
            unansweredQuestions: [],
            sessionAnsweredCount: 0,
            userEmail: '',
            senderName: ''
        };

        // ì ìˆ˜ ê³„ì‚°
        function calculateScores() {
            const scores = {};
            Object.keys(typeInfo).forEach(type => {
                const qs = typeInfo[type].questions;
                scores[type] = qs.reduce((sum, qNum) => sum + (state.answers[qNum] || 0), 0);
            });
            return scores;
        }

        // ì ìˆ˜ ìƒ‰ìƒ
        function getScoreColor(score) {
            if (score <= 9) return '#e53e3e';
            if (score >= 15) return '#38a169';
            return '#2d3748';
        }

        // í…ŒìŠ¤íŠ¸ ë¦¬ì…‹
        function resetTest() {
            state = {
                screen: 'intro',
                currentQuestion: 0,
                answers: {},
                pendingChoice: null,
                planText: '',
                questionFilter: 'all',
                unansweredQuestions: [],
                sessionAnsweredCount: 0,
                userEmail: '',
                senderName: ''
            };
        }

        // ë‹µë³€ ì„ íƒ
        function selectAnswer(score) {
            state.pendingChoice = score;
            render();
        }

        // í•„í„°ë§ëœ ì§ˆë¬¸ë“¤ ë°˜í™˜
        function getFilteredQuestions() {
            if (state.questionFilter === 'answered') {
                return questions.filter(q => state.answers[q.id] !== undefined);
            } else if (state.questionFilter === 'unanswered') {
                return state.unansweredQuestions.map(qNum => questions.find(q => q.id === qNum)).filter(Boolean);
            }
            return questions;
        }

        // í˜„ì¬ ì§ˆë¬¸ ì •ë³´
        function getCurrentQuestionInfo() {
            const filteredQuestions = getFilteredQuestions();
            const currentIndex = filteredQuestions.findIndex(q => q.id === questions[state.currentQuestion].id);
            
            let current = currentIndex + 1;
            let total = filteredQuestions.length;
            
            if (state.questionFilter === 'unanswered') {
                current = state.sessionAnsweredCount + 1;
                total = state.unansweredQuestions.length;
            }
            
            return {
                current: current,
                total: total,
                isFirst: currentIndex === 0,
                isLast: currentIndex === filteredQuestions.length - 1
            };
        }

        // ë‹¤ìŒìœ¼ë¡œ ì§„í–‰
        function confirmAndNext() {
            const qNum = state.currentQuestion + 1;
            if (state.pendingChoice !== null) {
                state.answers[qNum] = state.pendingChoice;
                
                if (state.questionFilter === 'unanswered') {
                    state.sessionAnsweredCount++;
                }
            }
            state.pendingChoice = null;
            
            const filteredQuestions = getFilteredQuestions();
            const currentIndex = filteredQuestions.findIndex(q => q.id === questions[state.currentQuestion].id);
            
            if (currentIndex < filteredQuestions.length - 1) {
                const nextQuestion = filteredQuestions[currentIndex + 1];
                const nextIndex = questions.findIndex(q => q.id === nextQuestion.id);
                state.currentQuestion = nextIndex;
            } else {
                state.screen = 'review';
            }
            render();
        }

        // ì´ì „ ì§ˆë¬¸
        function goToPrevious() {
            const filteredQuestions = getFilteredQuestions();
            const currentIndex = filteredQuestions.findIndex(q => q.id === questions[state.currentQuestion].id);
            
            if (currentIndex > 0) {
                const prevQuestion = filteredQuestions[currentIndex - 1];
                const prevIndex = questions.findIndex(q => q.id === prevQuestion.id);
                state.currentQuestion = prevIndex;
                state.pendingChoice = state.answers[prevQuestion.id] ?? null;
            }
            render();
        }

        // ë‹¤ìŒ ì§ˆë¬¸
        function goToNext() {
            const filteredQuestions = getFilteredQuestions();
            const currentIndex = filteredQuestions.findIndex(q => q.id === questions[state.currentQuestion].id);
            
            if (currentIndex < filteredQuestions.length - 1) {
                const nextQuestion = filteredQuestions[currentIndex + 1];
                const nextIndex = questions.findIndex(q => q.id === nextQuestion.id);
                state.currentQuestion = nextIndex;
                state.pendingChoice = state.answers[nextQuestion.id] ?? null;
            }
            render();
        }

        // íŠ¹ì • ì§ˆë¬¸ìœ¼ë¡œ ì´ë™
        function goToQuestion(index) {
            state.currentQuestion = index;
            state.pendingChoice = state.answers[index + 1] ?? null;
            state.screen = 'question';
            
            if (state.questionFilter === 'unanswered') {
                state.unansweredQuestions = getUnansweredQuestions();
                state.sessionAnsweredCount = 0;
            }
            
            render();
        }

        // ë‹µë³€ ì™„ë£Œëœ ì§ˆë¬¸ë“¤
        function getAnsweredQuestions() {
            return Object.keys(state.answers).map(Number).sort((a,b) => a-b);
        }

        // ë¯¸ë‹µë³€ ì§ˆë¬¸ë“¤
        function getUnansweredQuestions() {
            const answered = new Set(getAnsweredQuestions());
            return Array.from({length:48},(_,i)=>i+1).filter(n=>!answered.has(n));
        }

        // ğŸ”§ ëª¨ë°”ì¼ ëŒ€ì‘ QRì½”ë“œ ìƒì„± í•¨ìˆ˜ - ì™„ì „íˆ ìƒˆë¡œ ì‘ì„±
        function generateQRCode() {
            console.log('=== ëª¨ë°”ì¼ ëŒ€ì‘ QRì½”ë“œ ìƒì„± ì‹œì‘ ===');
            
            const qrContainer = document.getElementById('qr-code');
            const fallbackContainer = document.getElementById('qr-fallback');
            const url = 'https://coghks926.github.io/stress-test/';
            
            if (!qrContainer) {
                console.log('âŒ QR ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ');
                return;
            }
            
            console.log('âœ… QR ì»¨í…Œì´ë„ˆ ë°œê²¬');
            
            // ëª¨ë°”ì¼ ê°ì§€
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            console.log('ëª¨ë°”ì¼ ê¸°ê¸° ê°ì§€:', isMobile);
            
            if (isMobile) {
                console.log('ğŸ“± ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ QRì½”ë“œ ìƒì„±');
                generateMobileQRCode();
            } else {
                console.log('ğŸ’» ë°ìŠ¤í¬íƒ‘ì—ì„œ QRì½”ë“œ ìƒì„±');
                generateDesktopQRCode();
            }
        }

        // ğŸ”§ ëª¨ë°”ì¼ ì „ìš© QRì½”ë“œ ìƒì„±
        function generateMobileQRCode() {
            const qrContainer = document.getElementById('qr-code');
            const url = 'https://coghks926.github.io/stress-test/';
            
            // ë°©ë²• 1: Google Charts API ì‚¬ìš© (ëª¨ë°”ì¼ì—ì„œ ê°€ì¥ ì•ˆì •ì )
            const img = document.createElement('img');
            img.src = `https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=${encodeURIComponent(url)}`;
            img.alt = 'QR Code';
            img.style.width = '200px';
            img.style.height = '200px';
            img.style.borderRadius = '0.5rem';
            img.style.display = 'block';
            
            // ì´ë¯¸ì§€ ë¡œë“œ ì„±ê³µ
            img.onload = function() {
                console.log('âœ… Google Charts QRì½”ë“œ ë¡œë“œ ì„±ê³µ');
                qrContainer.appendChild(img);
            };
            
            // ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨
            img.onerror = function() {
                console.log('âŒ Google Charts QRì½”ë“œ ë¡œë“œ ì‹¤íŒ¨');
                // ë°©ë²• 2: QRServer API ì‚¬ìš©
                generateMobileQRCodeFallback();
            };
        }

        // ğŸ”§ ëª¨ë°”ì¼ í´ë°± ë°©ë²•
        function generateMobileQRCodeFallback() {
            const qrContainer = document.getElementById('qr-code');
            const url = 'https://coghks926.github.io/stress-test/';
            
            const img = document.createElement('img');
            img.src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(url)}`;
            img.alt = 'QR Code';
            img.style.width = '200px';
            img.style.height = '200px';
            img.style.borderRadius = '0.5rem';
            img.style.display = 'block';
            
            img.onload = function() {
                console.log('âœ… QRServer API QRì½”ë“œ ë¡œë“œ ì„±ê³µ');
                qrContainer.appendChild(img);
            };
            
            img.onerror = function() {
                console.log('âŒ ëª¨ë“  QRì½”ë“œ ìƒì„± ì‹¤íŒ¨');
                // ìµœì¢… í´ë°±: URL í‘œì‹œ
                generateQRCodeFinalFallback();
            };
        }

        // ğŸ”§ ë°ìŠ¤í¬íƒ‘ ì „ìš© QRì½”ë“œ ìƒì„±
        function generateDesktopQRCode() {
            const qrContainer = document.getElementById('qr-code');
            const url = 'https://coghks926.github.io/stress-test/';
            
            // ë°©ë²• 1: QRCode.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
            if (typeof QRCode !== 'undefined') {
                console.log('âœ… QRCode.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©');
                
                const canvas = document.createElement('canvas');
                qrContainer.appendChild(canvas);
                
                QRCode.toCanvas(canvas, url, {
                    width: 200,
                    height: 200,
                    color: {
                        dark: '#000000',
                        light: '#FFFFFF'
                    }
                }, function (error) {
                    if (error) {
                        console.error('âŒ QRCode.js ì‹¤íŒ¨:', error);
                        // í´ë°±ìœ¼ë¡œ ì´ë¯¸ì§€ ì‚¬ìš©
                        generateDesktopQRCodeFallback();
                    } else {
                        console.log('âœ… QRCode.js ì„±ê³µ!');
                    }
                });
            } else {
                console.log('âŒ QRCode.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—†ìŒ');
                generateDesktopQRCodeFallback();
            }
        }

        // ğŸ”§ ë°ìŠ¤í¬íƒ‘ í´ë°± ë°©ë²•
        function generateDesktopQRCodeFallback() {
            const qrContainer = document.getElementById('qr-code');
            const url = 'https://coghks926.github.io/stress-test/';
            
            const img = document.createElement('img');
            img.src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(url)}`;
            img.alt = 'QR Code';
            img.style.width = '200px';
            img.style.height = '200px';
            img.style.borderRadius = '0.5rem';
            
            img.onload = function() {
                console.log('âœ… ë°ìŠ¤í¬íƒ‘ ì´ë¯¸ì§€ QRì½”ë“œ ë¡œë“œ ì„±ê³µ');
                qrContainer.appendChild(img);
            };
            
            img.onerror = function() {
                console.log('âŒ ë°ìŠ¤í¬íƒ‘ QRì½”ë“œ ë¡œë“œ ì‹¤íŒ¨');
                generateQRCodeFinalFallback();
            };
        }

        // ğŸ”§ ìµœì¢… í´ë°± ë°©ë²•: URL í‘œì‹œ
        function generateQRCodeFinalFallback() {
            console.log('=== ìµœì¢… í´ë°± ë°©ë²•: URL í‘œì‹œ ===');
            
            const qrContainer = document.getElementById('qr-code');
            const fallbackContainer = document.getElementById('qr-fallback');
            const url = 'https://coghks926.github.io/stress-test/';
            
            // QRì½”ë“œ ì»¨í…Œì´ë„ˆ ìˆ¨ê¸°ê¸°
            qrContainer.style.display = 'none';
            
            // í´ë°± ì»¨í…Œì´ë„ˆ í‘œì‹œ
            fallbackContainer.classList.add('show');
            
            // URL í‘œì‹œ
            const urlElement = document.getElementById('qr-url');
            if (urlElement) {
                urlElement.textContent = url;
            }
            
            console.log('âœ… URL í´ë°± í‘œì‹œ ì™„ë£Œ');
        }

        // ğŸ”§ URL ë³µì‚¬ í•¨ìˆ˜
        function copyURL() {
            const url = 'https://coghks926.github.io/stress-test/';
            navigator.clipboard.writeText(url).then(function() {
                alert('URLì´ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }).catch(function() {
                // í´ë°±: í…ìŠ¤íŠ¸ ì„ íƒ
                const urlElement = document.getElementById('qr-url');
                if (urlElement) {
                    urlElement.select();
                    document.execCommand('copy');
                    alert('URLì´ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
                }
            });
        }

        // ğŸ”§ ì‚¬ìš©ì ì •ë³´ ì…ë ¥ ê²€ì¦ ë° ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰
        function startTest() {
            const senderName = document.getElementById('user-name').value.trim();
            const userEmail = document.getElementById('user-email').value.trim();
            const consentChecked = document.getElementById('consent').checked;

            if (!senderName) {
                alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (!userEmail) {
                alert('ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ì´ë©”ì¼ í˜•ì‹ ê²€ì¦
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(userEmail)) {
                alert('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ë™ì˜ ì²´í¬ ê²€ì¦
            if (!consentChecked) {
                alert('ê°œì¸ì •ë³´ í™œìš©ì— ë™ì˜í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ì‚¬ìš©ì ì •ë³´ ì €ì¥
            state.senderName = senderName;
            state.userEmail = userEmail;
            
            // ì§ˆë¬¸ í™”ë©´ìœ¼ë¡œ ì´ë™
            state.screen = 'question';
            render();
        }

        // í™”ë©´ ë Œë”ë§
        function render() {
            const app = document.getElementById('app');
            
            if (state.screen === 'intro') {
                app.innerHTML = `
                    <div class="container">
                        <div class="intro-card card">
                            <h1 class="intro-title">ìŠ¤íŠ¸ë ˆìŠ¤ ì·¨ì•½ì„± ê²€ì‚¬</h1>
                            <p class="intro-subtitle">8ê°€ì§€ ì˜ì—­ì˜ ì§ˆë¬¸ìœ¼ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ ì·¨ì•½ì„±ì„ í™•ì¸í•´ë³´ì„¸ìš”.<br>ê° ì§ˆë¬¸ì— ëŒ€í•´ ì†”ì§í•˜ê²Œ ë‹µë³€í•´ì£¼ì„¸ìš”.<br>(ë‹µë³€í•˜ê¸° ê³¤ë€í•œ ë¬¸í•­ì€ ë¬´ì‘ë‹µ ì²˜ë¦¬ ê°€ëŠ¥)</p>
                            <button class="primary-button" onclick="state.screen='user-info'; render();">ì‹œì‘í•˜ê¸°</button>
                        </div>

                        <div class="qr-section">
                            <h2 class="qr-title">ğŸ“± QRì½”ë“œë¡œ ëª¨ë°”ì¼ì—ì„œ ì ‘ì†í•˜ê¸°</h2>
                            <p class="qr-description">
                                ì•„ë˜ QRì½”ë“œë¥¼ ìŠ¤ìº”í•˜ë©´ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œë„ ê°™ì€ ê²€ì‚¬ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                            </p>
                            
                            <div class="qr-container">
                                <div class="qr-code" id="qr-code"></div>
                                <div class="qr-fallback" id="qr-fallback">
                                    <h4>ğŸ“± ëª¨ë°”ì¼ì—ì„œ ì ‘ì†í•˜ê¸°</h4>
                                    <div class="qr-url" id="qr-url"></div>
                                    <button class="copy-button" onclick="copyURL()">URL ë³µì‚¬í•˜ê¸°</button>
                                    <p style="font-size: 14px; color: #666;">
                                        ìœ„ URLì„ ë³µì‚¬í•´ì„œ ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €ì— ë¶™ì—¬ë„£ê¸° í•˜ì„¸ìš”
                                    </p>
                                </div>
                            </div>

                            <div class="qr-instructions">
                                <h4>ğŸ“‹ ì‚¬ìš© ë°©ë²•</h4>
                                <ol>
                                    <li>ìŠ¤ë§ˆíŠ¸í°ì˜ ì¹´ë©”ë¼ ì•± ë˜ëŠ” QRì½”ë“œ ìŠ¤ìº” ì•±ì„ ì‹¤í–‰í•˜ì„¸ìš”</li>
                                    <li>ìœ„ì˜ QRì½”ë“œë¥¼ ìŠ¤ìº”í•˜ì„¸ìš”</li>
                                    <li>ìë™ìœ¼ë¡œ ì´ ê²€ì‚¬ í˜ì´ì§€ê°€ ì—´ë¦½ë‹ˆë‹¤</li>
                                    <li>ëª¨ë°”ì¼ì—ì„œë„ í¸ë¦¬í•˜ê²Œ ê²€ì‚¬ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                `;
                
                // QRì½”ë“œ ìƒì„± í•¨ìˆ˜ í˜¸ì¶œ (DOMì´ ë¡œë“œëœ í›„)
                setTimeout(generateQRCode, 100);
            }
            
            // ğŸ†• ì‚¬ìš©ì ì •ë³´ ì…ë ¥ í™”ë©´ - ê°€ë¡œë¡œ ê¸¸ê²Œ
            else if (state.screen === 'user-info') {
                app.innerHTML = `
                    <div class="container">
                        <div class="user-info-card card">
                            <h1 class="intro-title">ì‚¬ìš©ì ì •ë³´ ì…ë ¥</h1>
                            <p class="intro-subtitle">ê²€ì‚¬ë¥¼ ì‹œì‘í•˜ê¸° ì „ì— ì´ë¦„ê³¼ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
                            
                            <div class="user-info-form">
                                <div class="form-group">
                                    <label class="form-label">ì´ë¦„</label>
                                    <input 
                                        type="text" 
                                        id="user-name"
                                        class="form-input" 
                                        placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
                                        value="${state.senderName}"
                                    />
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">ì´ë©”ì¼ ì£¼ì†Œ</label>
                                    <input 
                                        type="email" 
                                        id="user-email"
                                        class="form-input" 
                                        placeholder="ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                                        value="${state.userEmail}"
                                    />
                                </div>
                                
                                <div class="consent-group">
                                    <div class="consent-text">
                                        ê²€ì‚¬ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë” ë‚˜ì€ ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ ìµëª…í™”ëœ ë°ì´í„°ë¡œ í™œìš©í•˜ëŠ” ê²ƒì— ë™ì˜í•˜ì‹œë‚˜ìš”?
                                    </div>
                                    <div class="consent-checkbox">
                                        <input type="checkbox" id="consent" />
                                        <label for="consent">ë™ì˜í•©ë‹ˆë‹¤</label>
                                    </div>
                                </div>
                            </div>
                            
                            <button class="primary-button" onclick="startTest()">ê²€ì‚¬ ì‹œì‘</button>
                        </div>
                    </div>
                `;
            }
            
            else if (state.screen === 'question') {
                const qNum = state.currentQuestion + 1;
                const saved = state.answers[qNum] ?? null;
                const selected = state.pendingChoice ?? saved;
                const questionInfo = getCurrentQuestionInfo();

                app.innerHTML = `
                    <div class="container">
                        <div class="header">
                            <div class="title-box">
                                <h1 class="title">ìŠ¤íŠ¸ë ˆìŠ¤ ì·¨ì•½ì„± ê²€ì‚¬</h1>
                            </div>
                        </div>
                        <div class="progress-container">
                            <div class="progress">
                                ${questionInfo.current} / ${questionInfo.total}
                                ${state.questionFilter !== 'all' ? `<span class="filter-text"> (${state.questionFilter === 'answered' ? 'ë‹µë³€ì™„ë£Œ' : 'ë¯¸ë‹µë³€'})</span>` : ''}
                            </div>
                        </div>

                        <div class="question-card card no-animation">
                            <div class="q-number">ì§ˆë¬¸ ${qNum}</div>
                            <div class="q-text">${questions[state.currentQuestion].text}</div>
                        </div>

                        <div class="answer-container">
                            <button class="answer-button ${selected === 3 ? 'selected' : ''}" onclick="selectAnswer(3)">
                                ì–¸ì œë‚˜ ê·¸ë ‡ë‹¤ (3ì )
                            </button>
                            <button class="answer-button ${selected === 1 ? 'selected' : ''}" onclick="selectAnswer(1)">
                                ê°€ë” ê·¸ë ‡ë‹¤ (1ì )
                            </button>
                            <button class="answer-button ${selected === 0 ? 'selected' : ''}" onclick="selectAnswer(0)">
                                ì „í˜€ ì•„ë‹ˆë‹¤ (0ì )
                            </button>
                        </div>

                        <div class="footer-nav">
                            <button class="nav-pill" ${questionInfo.isFirst ? 'disabled' : ''} onclick="goToPrevious()">
                                â† ì´ì „
                            </button>

                            <div class="center-buttons">
                                <button class="nav-pill secondary" onclick="state.screen='review'; render();">
                                    ë‹µë³€ í˜„í™©
                                </button>
                            </div>

                            <button class="nav-pill" onclick="confirmAndNext()">
                                ë‹¤ìŒ â†’
                            </button>
                        </div>
                    </div>
                `;
            }
            
            else if (state.screen === 'review') {
                const answered = getAnsweredQuestions();
                const unanswered = getUnansweredQuestions();

                app.innerHTML = `
                    <div class="container">
                        <div class="header">
                            <div class="title-box">
                                <h1 class="title">ë‹µë³€ í˜„í™© í™•ì¸</h1>
                                <div class="subtitle">ì´ ${answered.length}ê°œ ë‹µë³€ ì™„ë£Œ</div>
                            </div>
                        </div>

                        <div class="review-container">
                            <div class="section">
                                <div class="section-title">âœ… ë‹µë³€ ì™„ë£Œ (${answered.length})</div>
                                <div class="question-grid">
                                    ${answered.map(q => `
                                        <div class="answered-badge" onclick="state.questionFilter='answered'; goToQuestion(${q-1});">
                                            <div class="q-badge-num">${q}</div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>

                            ${unanswered.length > 0 ? `
                                <div class="section">
                                    <div class="section-title">âŒ ë¯¸ë‹µë³€ (${unanswered.length})</div>
                                    <div class="question-grid">
                                        ${unanswered.map(q => `
                                            <div class="unanswered-badge" onclick="state.questionFilter='unanswered'; goToQuestion(${q-1});">
                                                <div class="q-badge-num">${q}</div>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                        
                        <div class="review-footer-nav">
                            ${unanswered.length > 0 ? `
                                <button class="review-nav-pill" onclick="state.questionFilter='unanswered'; state.screen='question'; state.unansweredQuestions=${JSON.stringify(unanswered)}; state.sessionAnsweredCount=0; state.currentQuestion=${unanswered[0]-1}; render();">
                                    ì´ì–´í•˜ê¸°
                                </button>
                            ` : `
                                <div></div>
                            `}
                            
                            <button class="review-nav-pill results" onclick="state.screen='results'; render();">
                                ê²°ê³¼ ë³´ê¸°
                            </button>
                        </div>
                    </div>
                `;
            }
            
            else if (state.screen === 'results') {
                const scores = calculateScores();
                
                // ì‹ ì²´ ì˜ì—­ê³¼ ì •ì‹  ì˜ì—­ ë¶„ë¦¬
                const physicalTypes = [
                    { key: 'A', label: 'ì‹ìƒí™œ' },
                    { key: 'B', label: 'ê¸ˆì£¼/ê¸ˆì—°' },
                    { key: 'C', label: 'ìš´ë™ ì‹¤ì²œ' },
                    { key: 'E', label: 'ì„±ìƒí™œ' }
                ];
                
                const mentalTypes = [
                    { key: 'D', label: 'ì •ì„œì  ì•ˆì •' },
                    { key: 'F', label: 'ì—¬ê°€í™œë™' },
                    { key: 'G', label: 'ì¼ìƒí™œê· í˜•' },
                    { key: 'H', label: 'ìê¸°ì´í•´ìˆ˜ìš©' }
                ];
                
                const getCellScore = (qNum) => (state.answers[qNum] ?? '');
                
                // ì‹ í˜¸ë“± ìƒ‰ìƒ ë° ì•„ì´ì½˜
                function getTrafficLight(score) {
                    if (score <= 9) {
                        return { color: '#ef4444', icon: 'ğŸ”´', text: 'ì£¼ì˜' };
                    } else if (score >= 15) {
                        return { color: '#10b981', icon: 'ğŸŸ¢', text: 'ì–‘í˜¸' };
                    } else {
                        return { color: '#f59e0b', icon: 'ğŸŸ¡', text: 'ë³´í†µ' };
                    }
                }

                app.innerHTML = `
                    <div class="container">
                        <div class="header">
                            <div class="title-box">
                                <h1 class="title">ì·¨ì•½ì„± í”„ë¡œíŒŒì¼</h1>
                            </div>
                        </div>

                        <!-- ì‹ ì²´ ì˜ì—­ -->
                        <div class="area-section">
                            <div class="area-header">
                                <div class="area-title-box">
                                    <h2 class="area-title">ğŸƒâ€â™‚ï¸ ì‹ ì²´ ì˜ì—­</h2>
                                </div>
                                <div class="area-subtitle">ì‹ ì²´ì  ê±´ê°•ê³¼ ê´€ë ¨ëœ ì˜ì—­</div>
                            </div>
                            
                            <div class="results-grid">
                                ${physicalTypes.map(type => {
                                    const score = scores[type.key];
                                    const trafficLight = getTrafficLight(score);
                                    return `
                                        <div class="type-card">
                                            <div class="type-header">
                                                <div class="type-label">${type.key}ìœ í˜•</div>
                                                <div class="type-name">${type.label}</div>
                                            </div>
                                            
                                            <div class="questions-section">
                                                ${typeInfo[type.key].questions.map(qNum => `
                                                    <div class="question-item">
                                                        <span class="question-num">${qNum}</span>
                                                        <span class="question-score">${getCellScore(qNum)}</span>
                                                    </div>
                                                `).join('')}
                                            </div>
                                            
                                            <div class="score-section">
                                                <div class="traffic-light" style="color: ${trafficLight.color}">
                                                    <span class="traffic-icon">${trafficLight.icon}</span>
                                                    <span class="traffic-text">${trafficLight.text}</span>
                                                </div>
                                                <div class="total-score" style="color: ${trafficLight.color}">
                                                    ${score}ì 
                                                </div>
                                            </div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>

                        <!-- ì •ì‹  ì˜ì—­ -->
                        <div class="area-section">
                            <div class="area-header">
                                <div class="area-title-box">
                                    <h2 class="area-title">ğŸ§  ì •ì‹  ì˜ì—­</h2>
                                </div>
                                <div class="area-subtitle">ì •ì‹ ì  ê±´ê°•ê³¼ ê´€ë ¨ëœ ì˜ì—­</div>
                            </div>
                            
                            <div class="results-grid">
                                ${mentalTypes.map(type => {
                                    const score = scores[type.key];
                                    const trafficLight = getTrafficLight(score);
                                    return `
                                        <div class="type-card">
                                            <div class="type-header">
                                                <div class="type-label">${type.key}ìœ í˜•</div>
                                                <div class="type-name">${type.label}</div>
                                            </div>
                                            
                                            <div class="questions-section">
                                                ${typeInfo[type.key].questions.map(qNum => `
                                                    <div class="question-item">
                                                        <span class="question-num">${qNum}</span>
                                                        <span class="question-score">${getCellScore(qNum)}</span>
                                                    </div>
                                                `).join('')}
                                            </div>
                                            
                                            <div class="score-section">
                                                <div class="traffic-light" style="color: ${trafficLight.color}">
                                                    <span class="traffic-icon">${trafficLight.icon}</span>
                                                    <span class="traffic-text">${trafficLight.text}</span>
                                                </div>
                                                <div class="total-score" style="color: ${trafficLight.color}">
                                                    ${score}ì 
                                                </div>
                                            </div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>

                        <div class="interpretation-guide">
                            <div class="interpretation-title">í•´ì„ ê°€ì´ë“œ</div>
                            <div class="traffic-guide">
                                <div class="traffic-item">
                                    <span class="traffic-icon">ğŸŸ¢</span>
                                    <span class="traffic-text">15ì  ì´ìƒ: ì–‘í˜¸ - ì˜ ê²¬ë””ê³  ìˆë‹¤ëŠ” ì¦ê±°</span>
                                </div>
                                <div class="traffic-item">
                                    <span class="traffic-icon">ğŸŸ¡</span>
                                    <span class="traffic-text">10-14ì : ë³´í†µ - ì¼ë°˜ì ì¸ ìˆ˜ì¤€</span>
                                </div>
                                <div class="traffic-item">
                                    <span class="traffic-icon">ğŸ”´</span>
                                                    <span class="traffic-text">9ì  ì´í•˜: ì£¼ì˜ - ìŠ¤íŠ¸ë ˆìŠ¤ì— ëŒ€í•œ ë°˜ì‘ì´ ë¶€ì •ì  ê²½í–¥</span>
                                </div>
                            </div>
                        </div>

                        <div class="results-footer-nav">
                            <button class="results-nav-pill" onclick="state.screen='review'; render();">
                                â† ì´ì „
                            </button>
                            
                            <div class="citation">
                                * ì¶œì²˜ : James Cranwell Ward (1990)
                            </div>
                            
                            <button class="results-nav-pill" onclick="state.screen='plan'; render();">
                                ë‹¤ìŒ â†’
                            </button>
                        </div>

                        <div style="height: 100px;"></div>
                    </div>
                `;
            }
            
            else if (state.screen === 'plan') {
                app.innerHTML = `
                    <div class="container">
                        <div class="header" style="margin-bottom: 2rem;">
                            <div class="title-box">
                                <h1 class="title">ë‚˜ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì‹¤ì²œ ì „ëµ</h1>
                                <div class="subtitle">ììœ ë¡­ê²Œ ê³„íšì„ ì ì–´ë³´ì„¸ìš”</div>
                            </div>
                        </div>

                        <div class="plan-card">
                            <textarea 
                                class="plan-input" 
                                placeholder="ì˜ˆ: ë§¤ì£¼ 3íšŒ ìš´ë™, ì¹´í˜ì¸ ì¤„ì´ê¸°, ì£¼ë§ íœ´ì‹ ì‹œê°„ í™•ë³´ ë“±"
                                oninput="state.planText = this.value"
                            >${state.planText}</textarea>
                            
                            <div class="additional-info">
                                <h4>ìŠ¤íŠ¸ë ˆìŠ¤ì™€ ì •ì‹ ê±´ê°• ì¶”ê°€ ì •ë³´</h4>
                                <p>1. ìœ íŠœë¸Œ 'ì´ì¬ê²½êµìˆ˜TV', ê¸¸ë²—ì‹¬ë¦¬ìƒë‹´ì—°êµ¬ì†Œ í™ˆí˜ì´ì§€ ì°¸ì¡°</p>
                                <p>2. êµìœ¡(ê°•ì˜), ì‹¬ë¦¬ìƒë‹´ ë¬¸ì˜ëŠ” ì´ì¬ê²½ ìƒë‹´ì‹¬ë¦¬í•™ë°•ì‚¬ ë©”ì¼ë¡œ ì—°ë½</p>
                                
                                <div class="contact-info">
                                    <strong>ì—°ë½ì²˜:</strong><br>
                                    <a href="mailto:ljg4129@naver.com" class="email">ljg4129@naver.com</a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="plan-footer-nav">
                            <button class="plan-nav-pill" onclick="state.screen='results'; render();">
                                â† ì´ì „
                            </button>
                            
                            <button class="plan-nav-pill" onclick="state.screen='completion'; render();">
                                ë‹¤ìŒ â†’
                            </button>
                        </div>
                    </div>
                `;
            }
            
            // ğŸ†• ë§ˆë¬´ë¦¬ í˜ì´ì§€
            else if (state.screen === 'completion') {
                app.innerHTML = `
                    <div class="container">
                        <div class="completion-card">
                            <div class="completion-icon">ğŸ‰</div>
                            <h1 class="completion-title">ê³ ìƒí•˜ì…¨ìŠµë‹ˆë‹¤!</h1>
                            <p class="completion-message">
                                ìŠ¤íŠ¸ë ˆìŠ¤ ì·¨ì•½ì„± ê²€ì‚¬ë¥¼ ì™„ë£Œí•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.<br>
                                ê²€ì‚¬ ê²°ê³¼ì™€ ì‹¤ì²œ ì „ëµì„ ë°”íƒ•ìœ¼ë¡œ<br>
                                ë” ê±´ê°•í•œ ì¼ìƒì„ ë§Œë“¤ì–´ê°€ì‹œê¸¸ ë°”ëë‹ˆë‹¤.
                            </p>
                            <p class="completion-subtitle">
                                ì–¸ì œë“ ì§€ ë‹¤ì‹œ ê²€ì‚¬í•´ë³´ì‹œê³ ,<br>
                                ê¾¸ì¤€í•œ ìê¸° ê´€ë¦¬ë¡œ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì˜ ê´€ë¦¬í•˜ì„¸ìš”! ğŸ’ª
                            </p>
                        </div>
                    </div>

                    <div class="footer-bar">
                        <button class="nav-pill" onclick="state.screen='intro'; resetTest(); render();">
                            ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
                        </button>
                    </div>
                `;
            }
        }

        // ì´ˆê¸° ë Œë”ë§
        render();
    </script>
</body>
</html>
            }
        }

        // ì´ˆê¸° ë Œë”ë§
        render();
    </script>
</body>
</html>
